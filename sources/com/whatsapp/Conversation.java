package com.whatsapp;

import X.AbstractActivityC04640Lg;
import X.AbstractActivityC04650Lh;
import X.AbstractActivityC04670Lj;
import X.AbstractC000600i;
import X.AbstractC005302j;
import X.AbstractC011205o;
import X.AbstractC09240cu;
import X.AbstractC40441sG;
import X.AbstractC41791uW;
import X.AbstractC48182Ef;
import X.AbstractView$OnClickListenerC49532Ky;
import X.ActivityC02270An;
import X.ActivityC02310Ar;
import X.ActivityC02320As;
import X.ActivityC02330At;
import X.AnonymousClass008;
import X.AnonymousClass011;
import X.AnonymousClass012;
import X.AnonymousClass024;
import X.AnonymousClass029;
import X.AnonymousClass031;
import X.AnonymousClass071;
import X.AnonymousClass075;
import X.AnonymousClass088;
import X.AnonymousClass092;
import X.AnonymousClass094;
import X.AnonymousClass097;
import X.AnonymousClass227;
import X.AnonymousClass228;
import X.AnonymousClass272;
import X.C000200d;
import X.C000400f;
import X.C000500h;
import X.C001200o;
import X.C001800u;
import X.C002301c;
import X.C002701i;
import X.C003101m;
import X.C003301p;
import X.C003701t;
import X.C005002g;
import X.C005102h;
import X.C008103m;
import X.C009905a;
import X.C00B;
import X.C00T;
import X.C011005l;
import X.C012005w;
import X.C018308n;
import X.C018508q;
import X.C018608r;
import X.C018708s;
import X.C018808t;
import X.C019208x;
import X.C01B;
import X.C01C;
import X.C02160Ac;
import X.C02180Ae;
import X.C02980Dr;
import X.C02E;
import X.C02F;
import X.C02L;
import X.C02O;
import X.C03010Du;
import X.C03080Ec;
import X.C03120Eg;
import X.C03150Ej;
import X.C03180Eq;
import X.C03230Ew;
import X.C03300Fd;
import X.C03320Ff;
import X.C03360Fk;
import X.C04160Iu;
import X.C04310Jr;
import X.C04950Mp;
import X.C05480Ox;
import X.C05490Oy;
import X.C05920Qu;
import X.C05E;
import X.C05G;
import X.C05M;
import X.C05O;
import X.C05Q;
import X.C05U;
import X.C05V;
import X.C05W;
import X.C05Y;
import X.C06040Rh;
import X.C06950Vu;
import X.C06960Vv;
import X.C06970Vw;
import X.C06C;
import X.C06K;
import X.C06L;
import X.C06M;
import X.C06S;
import X.C07610Yz;
import X.C07A;
import X.C09560eJ;
import X.C09G;
import X.C09H;
import X.C09I;
import X.C0C8;
import X.C0C9;
import X.C0CB;
import X.C0D5;
import X.C0DB;
import X.C0DK;
import X.C0DU;
import X.C0DV;
import X.C0DW;
import X.C0E3;
import X.C0E6;
import X.C0E7;
import X.C0EA;
import X.C0ED;
import X.C0EE;
import X.C0ES;
import X.C0G2;
import X.C0GA;
import X.C0GC;
import X.C0GE;
import X.C0GK;
import X.C0GV;
import X.C0GZ;
import X.C0H9;
import X.C0HA;
import X.C0HC;
import X.C0HS;
import X.C0I1;
import X.C0IT;
import X.C0IU;
import X.C0L6;
import X.C0L7;
import X.C0L8;
import X.C0L9;
import X.C0LA;
import X.C0LD;
import X.C0LF;
import X.C0LX;
import X.C0M0;
import X.C0M1;
import X.C0O8;
import X.C0OU;
import X.C0R6;
import X.C0U0;
import X.C0We;
import X.C0Zn;
import X.C1FJ;
import X.C1GG;
import X.C1KC;
import X.C1KI;
import X.C1KL;
import X.C1Lh;
import X.C1M7;
import X.C22I;
import X.C25R;
import X.C26761Ko;
import X.C27661Og;
import X.C2A2;
import X.C2AM;
import X.C2AR;
import X.C2AS;
import X.C2AT;
import X.C2BP;
import X.C2Bk;
import X.C2CI;
import X.C2ER;
import X.C2F8;
import X.C2F9;
import X.C2GQ;
import X.C2GW;
import X.C2HC;
import X.C2IY;
import X.C2J9;
import X.C2JA;
import X.C2JT;
import X.C2JU;
import X.C2JV;
import X.C2KT;
import X.C2KV;
import X.C2L3;
import X.C2LT;
import X.C2Ln;
import X.C2Ly;
import X.C2M0;
import X.C2M4;
import X.C2MB;
import X.C2MG;
import X.C2MM;
import X.C2MN;
import X.C2MO;
import X.C2MP;
import X.C2MQ;
import X.C2MR;
import X.C2MS;
import X.C2MT;
import X.C2MU;
import X.C2MV;
import X.C2MW;
import X.C2MX;
import X.C2MY;
import X.C2MZ;
import X.C2N3;
import X.C2OV;
import X.C31S;
import X.C34801i7;
import X.C34841iB;
import X.C34871iE;
import X.C34911iI;
import X.C34931iK;
import X.C34941iL;
import X.C35001iR;
import X.C35141if;
import X.C35151ig;
import X.C38D;
import X.C39R;
import X.C39Z;
import X.C3JF;
import X.C3JG;
import X.C3JJ;
import X.C3JK;
import X.C3JL;
import X.C3JN;
import X.C3JO;
import X.C3YG;
import X.C40071rX;
import X.C40081rY;
import X.C40261rr;
import X.C40291rx;
import X.C40301ry;
import X.C41181tV;
import X.C41221tZ;
import X.C41321tj;
import X.C41461tx;
import X.C41471ty;
import X.C41491u0;
import X.C41521u3;
import X.C41541u6;
import X.C41641uH;
import X.C41711uO;
import X.C41751uS;
import X.C41771uU;
import X.C41961un;
import X.C42151vF;
import X.C42381ve;
import X.C42391vf;
import X.C42401vg;
import X.C42411vh;
import X.C42421vi;
import X.C42471vn;
import X.C42711wC;
import X.C43081wp;
import X.C43291xA;
import X.C43791xz;
import X.C451820s;
import X.C455822q;
import X.C456823b;
import X.C461225a;
import X.C462626b;
import X.C468628o;
import X.C47212Ai;
import X.C47682Ce;
import X.C47782Co;
import X.C48342Ew;
import X.C48352Ex;
import X.C49032Ic;
import X.C49302Jn;
import X.C49462Ko;
import X.C49702Ma;
import X.C49712Mb;
import X.C51422Wj;
import X.C51532Wv;
import X.C51552Wx;
import X.C52762bH;
import X.C53632hG;
import X.C54452il;
import X.C54562ix;
import X.C58322qx;
import X.C58342qz;
import X.C58352r0;
import X.C58442r9;
import X.C59022s5;
import X.C59232sQ;
import X.C59372se;
import X.C59402sh;
import X.C60622um;
import X.C61422w7;
import X.C654537g;
import X.C659139a;
import X.C659539e;
import X.C73053b1;
import X.C73343bU;
import X.C73353bV;
import X.C73363bW;
import X.C73453bf;
import X.C78373jo;
import X.C78833kb;
import X.C82883rE;
import X.C84143tG;
import X.DialogInterfaceC019408z;
import X.InterfaceC002901k;
import X.InterfaceC04690Ll;
import X.InterfaceC04710Ln;
import X.InterfaceC04720Lo;
import X.InterfaceC04730Lp;
import X.InterfaceC04740Lq;
import X.InterfaceC04750Lr;
import X.InterfaceC04760Ls;
import X.InterfaceC04770Lt;
import X.InterfaceC04780Lu;
import X.InterfaceC04790Lv;
import X.InterfaceC04800Lw;
import X.InterfaceC04810Lx;
import X.InterfaceC04820Ly;
import X.InterfaceC04830Lz;
import X.InterfaceC05830Qk;
import X.InterfaceC06230Sb;
import X.InterfaceC09180cm;
import X.InterfaceC09830ep;
import X.InterfaceC41261td;
import X.InterfaceC453821q;
import X.InterfaceC453921s;
import X.InterfaceC53342en;
import X.InterfaceC53622hF;
import X.InterfaceC53642hH;
import X.InterfaceC61762wg;
import X.InterfaceC73333bT;
import X.ScaleGestureDetector$OnScaleGestureListenerC54382ie;
import android.app.Activity;
import android.app.Application;
import android.app.Dialog;
import android.app.PendingIntent;
import android.content.ActivityNotFoundException;
import android.content.BroadcastReceiver;
import android.content.ComponentName;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.res.Configuration;
import android.database.DataSetObserver;
import android.database.sqlite.SQLiteDatabase;
import android.graphics.Bitmap;
import android.graphics.Point;
import android.graphics.drawable.Drawable;
import android.net.Uri;
import android.os.Build;
import android.os.Bundle;
import android.os.Handler;
import android.os.Looper;
import android.os.Message;
import android.os.PowerManager;
import android.os.SystemClock;
import android.text.Editable;
import android.text.Html;
import android.text.InputFilter;
import android.text.Spanned;
import android.text.TextUtils;
import android.text.TextWatcher;
import android.text.method.TextKeyListener;
import android.view.KeyEvent;
import android.view.Menu;
import android.view.MenuItem;
import android.view.MotionEvent;
import android.view.SubMenu;
import android.view.View;
import android.view.ViewGroup;
import android.view.ViewTreeObserver;
import android.view.accessibility.AccessibilityManager;
import android.view.animation.AlphaAnimation;
import android.view.animation.Animation;
import android.view.animation.AnimationSet;
import android.view.animation.ScaleAnimation;
import android.view.animation.Transformation;
import android.view.animation.TranslateAnimation;
import android.view.inputmethod.InputMethodManager;
import android.widget.AbsListView;
import android.widget.FrameLayout;
import android.widget.ImageButton;
import android.widget.ImageView;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.RelativeLayout;
import android.widget.TextView;
import androidx.core.view.inputmethod.InputContentInfoCompat;
import androidx.fragment.app.DialogFragment;
import com.google.android.search.verification.client.R;
import com.whatsapp.Conversation;
import com.whatsapp.RequestPermissionActivity;
import com.whatsapp.chatinfo.ContactInfoActivity;
import com.whatsapp.chatinfo.ListChatInfo;
import com.whatsapp.conversation.conversationrow.WebPagePreviewView;
import com.whatsapp.ephemeral.EphemeralNUXDialog;
import com.whatsapp.group.GroupAdminPickerActivity;
import com.whatsapp.jid.GroupJid;
import com.whatsapp.jid.Jid;
import com.whatsapp.jid.UserJid;
import com.whatsapp.mentions.MentionPickerView;
import com.whatsapp.mentions.MentionableEntry;
import com.whatsapp.picker.search.PickerSearchDialogFragment;
import com.whatsapp.picker.search.StickerSearchDialogFragment;
import com.whatsapp.util.Log;
import com.whatsapp.util.WhatsAppLibLoader;
import com.whatsapp.voipcalling.JoinableEducationDialogFragment;
import com.whatsapp.voipcalling.Voip;
import com.whatsapp.voipcalling.VoipActivityV2;
import java.io.ByteArrayOutputStream;
import java.io.File;
import java.lang.ref.WeakReference;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Locale;
import java.util.Map;
import java.util.Set;
import java.util.Stack;
import java.util.concurrent.atomic.AtomicReference;

/* loaded from: classes.dex */
public class Conversation extends AbstractActivityC04640Lg implements InterfaceC04690Ll, InterfaceC04710Ln, InterfaceC04720Lo, InterfaceC04730Lp, InterfaceC04740Lq, InterfaceC04750Lr, InterfaceC04760Ls, InterfaceC04770Lt, InterfaceC04780Lu, InterfaceC04790Lv, InterfaceC04800Lw, InterfaceC04810Lx, InterfaceC04820Ly, InterfaceC04830Lz, C0M0, C0M1 {
    public static int A51;
    public static boolean A52;
    public int A00;
    public int A01;
    public int A02;
    public int A04;
    public int A05;
    public int A06;
    public int A07;
    public int A08;
    public BroadcastReceiver A0B;
    public Handler A0C;
    public View A0D;
    public View A0E;
    public View A0F;
    public View A0G;
    public View A0H;
    public View A0I;
    public View A0J;
    public View A0K;
    public View A0L;
    public View A0M;
    public ViewGroup A0N;
    public ViewGroup A0O;
    public ViewGroup A0P;
    public AccessibilityManager A0Q;
    public FrameLayout A0R;
    public FrameLayout A0S;
    public ImageButton A0T;
    public ImageButton A0U;
    public ImageButton A0V;
    public ImageButton A0W;
    public ListView A0X;
    public TextView A0Y;
    public TextView A0Z;
    public TextView A0a;
    public TextView A0b;
    public TextView A0c;
    public C0O8 A0d;
    public C0U0 A0e;
    public C018308n A0f;
    public C06040Rh A0g;
    public C35141if A0h;
    public C35151ig A0i;
    public AnonymousClass031 A0j;
    public AbstractC000600i A0k;
    public C06970Vw A0l;
    public C012005w A0m;
    public C018508q A0n;
    public KeyboardPopupLayout A0o;
    public C03230Ew A0p;
    public C02L A0q;
    public C0E3 A0r;
    public Mp4Ops A0s;
    public C005002g A0t;
    public C06950Vu A0u;
    public C03150Ej A0v;
    public C03010Du A0w;
    public C01B A0x;
    public C04950Mp A0y;
    public C09I A0z;
    public C018608r A10;
    public WaEditText A11;
    public C0E6 A12;
    public C0L8 A13;
    public C0LA A14;
    public C0G2 A15;
    public C2Ln A16;
    public C06K A17;
    public C06M A18;
    public C06L A19;
    public C49462Ko A1A;
    public C2MT A1B;
    public C2N3 A1C;
    public C2L3 A1D;
    public C2MP A1E;
    public C06960Vv A1F;
    public AnonymousClass272 A1G;
    public C40261rr A1H;
    public C03320Ff A1I;
    public C41541u6 A1J;
    public C0L7 A1K;
    public AnonymousClass008 A1L;
    public AnonymousClass075 A1M;
    public C018708s A1N;
    public C0LF A1O;
    public C41321tj A1P;
    public C54562ix A1Q;
    public C58322qx A1R;
    public C58342qz A1S;
    public C654537g A1T;
    public C41221tZ A1U;
    public C2GQ A1V;
    public C47782Co A1W;
    public C2MW A1X;
    public C2MR A1Y;
    public WebPagePreviewView A1Z;
    public C42411vh A1a;
    public C42381ve A1b;
    public C03120Eg A1c;
    public C2MM A1d;
    public C39R A1e;
    public C59402sh A1f;
    public C2KT A1g;
    public C2JU A1h;
    public C659539e A1i;
    public C000400f A1j;
    public C0E7 A1k;
    public C02E A1l;
    public C462626b A1m;
    public AnonymousClass012 A1n;
    public C001200o A1o;
    public C005102h A1p;
    public C02F A1q;
    public C000500h A1r;
    public C002301c A1s;
    public C05Q A1t;
    public C451820s A1u;
    public C41181tV A1v;
    public AnonymousClass071 A1w;
    public C05M A1x;
    public C0DK A1y;
    public C0GK A1z;
    public C0C9 A20;
    public C42711wC A21;
    public C0GV A22;
    public C0D5 A23;
    public C0IU A24;
    public C0C8 A25;
    public C03180Eq A26;
    public C05E A27;
    public C05O A28;
    public C0EA A29;
    public C43081wp A2A;
    public C00B A2B;
    public C06S A2C;
    public C06C A2D;
    public C41711uO A2E;
    public C0ED A2F;
    public C40081rY A2G;
    public C47682Ce A2H;
    public C0L9 A2I;
    public C003701t A2J;
    public C03300Fd A2K;
    public C0HA A2L;
    public AnonymousClass011 A2M;
    public C48352Ex A2N;
    public C48342Ew A2O;
    public C455822q A2P;
    public C49302Jn A2Q;
    public C47212Ai A2R;
    public AnonymousClass228 A2S;
    public C2MQ A2T;
    public C2BP A2U;
    public AnonymousClass227 A2V;
    public C0ES A2W;
    public C456823b A2X;
    public C03360Fk A2Y;
    public C018808t A2Z;
    public AbstractC005302j A2a;
    public C41461tx A2b;
    public C41471ty A2c;
    public C41491u0 A2d;
    public C41771uU A2e;
    public MentionableEntry A2f;
    public C02980Dr A2g;
    public C009905a A2h;
    public C05Y A2i;
    public C40291rx A2j;
    public C0EE A2k;
    public C41521u3 A2l;
    public C40301ry A2m;
    public C03080Ec A2n;
    public C0DU A2o;
    public C42421vi A2p;
    public C41751uS A2q;
    public C0GZ A2r;
    public C2MY A2s;
    public C0DW A2t;
    public C0DV A2u;
    public C2Ly A2v;
    public C78373jo A2w;
    public C2F8 A2x;
    public C2MO A2y;
    public C2F9 A2z;
    public C78833kb A30;
    public C02O A31;
    public C22I A32;
    public AnonymousClass092 A33;
    public AnonymousClass092 A34;
    public C05V A35;
    public C05U A36;
    public C07A A37;
    public C008103m A38;
    public C42151vF A39;
    public C05G A3A;
    public C0CB A3B;
    public AbstractC40441sG A3C;
    public AbstractC41791uW A3D;
    public C2M0 A3E;
    public C2MN A3F;
    public C2AR A3G;
    public C2M4 A3H;
    public C2AT A3I;
    public C2MG A3J;
    public C2AM A3K;
    public C43791xz A3L;
    public C2Bk A3M;
    public C2AS A3N;
    public C49712Mb A3O;
    public C82883rE A3P;
    public C3YG A3Q;
    public C49702Ma A3R;
    public C2ER A3S;
    public C461225a A3T;
    public C40071rX A3U;
    public C52762bH A3V;
    public C2MS A3W;
    public C0H9 A3X;
    public C42391vf A3Y;
    public C2MZ A3Z;
    public C41961un A3a;
    public C42471vn A3b;
    public C0HC A3c;
    public C2MU A3d;
    public InterfaceC002901k A3e;
    public WhatsAppLibLoader A3f;
    public ScaleGestureDetector$OnScaleGestureListenerC54382ie A3g;
    public C73053b1 A3h;
    public C84143tG A3i;
    public C2MX A3j;
    public C2MV A3k;
    public C42401vg A3l;
    public C73453bf A3m;
    public C05480Ox A3n;
    public C2IY A3o;
    public C41641uH A3p;
    public C0L6 A3q;
    public InterfaceC41261td A3r;
    public Boolean A3s;
    public Runnable A3u;
    public String A3v;
    public String A3w;
    public String A3x;
    public String A3y;
    public String A3z;
    public String A40;
    public ArrayList A41;
    public boolean A42;
    public boolean A43;
    public boolean A44;
    public boolean A46;
    public boolean A47;
    public boolean A48;
    public boolean A4A;
    public boolean A4B;
    public boolean A4D;
    public boolean A4E;
    public boolean A4F;
    public boolean A4G;
    public boolean A4I;
    public boolean A4J;
    public boolean A4L;
    public boolean A4M;
    public boolean A4O;
    public static final ArrayList A53 = new ArrayList();
    public static final HashMap A56 = new HashMap();
    public static final HashMap A55 = new HashMap();
    public static final HashMap A57 = new HashMap();
    public static final HashMap A54 = new HashMap();
    public static final AtomicReference A58 = new AtomicReference(new C0OU(null, false, C03150Ej.A00()));
    public boolean A4C = false;
    public final Set A4w = new HashSet();
    public final Set A4v = new HashSet();
    public final Set A4x = new HashSet();
    public final Set A4y = new HashSet();
    public int A03 = 0;
    public long A0A = 1;
    public long A09 = -1;
    public final ArrayList A4u = new ArrayList();
    public boolean A4K = true;
    public final Handler A4S = new Handler(Looper.getMainLooper());
    public Runnable A3t = null;
    public boolean A45 = true;
    public boolean A4H = true;
    public final Stack A4z = new Stack();
    public final Handler A4Q = new Handler(Looper.getMainLooper()) { // from class: X.1K9
        {
            Conversation.this = this;
        }

        @Override // android.os.Handler
        public void handleMessage(Message message) {
            if (message.what == 1) {
                Conversation.this.A1s();
            }
            Conversation.this.A0X.setTranscriptMode(0);
        }
    };
    public final C0GA A4g = new C34941iL(this);
    public final C0GC A4f = new C0GC() { // from class: X.1iS
        {
            Conversation.this = this;
        }

        @Override // X.C0GC
        public void A00(AbstractC005302j abstractC005302j) {
            Conversation.A0N(Conversation.this);
        }
    };
    public final C0GE A4k = new C0GE() { // from class: X.1iZ
        {
            Conversation.this = this;
        }

        @Override // X.C0GE
        public void A00(Set set) {
            Conversation.A0N(Conversation.this);
        }
    };
    public final C05490Oy A4s = new C05490Oy() { // from class: X.1ia
        {
            Conversation.this = this;
        }

        @Override // X.C05490Oy
        public void A01(long j) {
            Conversation conversation = Conversation.this;
            if (conversation.A0D.getVisibility() != 0) {
                conversation.A0D.setVisibility(0);
            }
            conversation.A0Y.setText(AnonymousClass029.A0g(conversation.A1s, j / 1000));
        }

        @Override // X.C05490Oy
        public void A02(C0D3 c0d3) {
            Conversation conversation = Conversation.this;
            conversation.A0D.setVisibility(8);
            conversation.invalidateOptionsMenu();
        }

        @Override // X.C05490Oy
        public void A03(C0D3 c0d3) {
            Conversation conversation = Conversation.this;
            conversation.A0D.setVisibility(8);
            conversation.invalidateOptionsMenu();
        }

        @Override // X.C05490Oy
        public void A04(C0D3 c0d3) {
            C73053b1 c73053b1;
            Conversation conversation = Conversation.this;
            conversation.A1c.A03();
            conversation.invalidateOptionsMenu();
            if (Build.VERSION.SDK_INT < 19 || (c73053b1 = conversation.A3h) == null || !c73053b1.A0D) {
                return;
            }
            c73053b1.A03();
        }
    };
    public final InterfaceC453921s A4m = new InterfaceC453921s() { // from class: X.1ib
        @Override // X.InterfaceC453921s
        public void ANe(C0K0 c0k0) {
        }

        {
            Conversation.this = this;
        }

        @Override // X.InterfaceC453921s
        public void ANf(AbstractC005302j abstractC005302j, UserJid userJid) {
            Conversation.A0Q(Conversation.this, abstractC005302j);
        }

        @Override // X.InterfaceC453921s
        public void ANg(AbstractC005302j abstractC005302j, UserJid userJid) {
            Conversation.A0Q(Conversation.this, abstractC005302j);
        }
    };
    public final InterfaceC453821q A4l = new InterfaceC453821q() { // from class: X.1ic
        {
            Conversation.this = this;
        }

        @Override // X.InterfaceC453821q
        public void AOv(AbstractC005302j abstractC005302j) {
            Conversation conversation = Conversation.this;
            Conversation.A0Q(conversation, conversation.A2a);
        }

        @Override // X.InterfaceC453821q
        public void APC(AbstractC005302j abstractC005302j) {
            Conversation.A0Q(Conversation.this, abstractC005302j);
        }
    };
    public final C73363bW A4r = new C73363bW() { // from class: X.1id
        {
            Conversation.this = this;
        }

        @Override // X.C73363bW
        public void A00() {
            Conversation conversation = Conversation.this;
            if (conversation.A0e != null) {
                conversation.A0E.setVisibility(8);
            }
        }

        @Override // X.C73363bW
        public void A01() {
            Conversation conversation = Conversation.this;
            if (conversation.A0e != null) {
                conversation.A0E.setVisibility(8);
            }
        }

        @Override // X.C73363bW
        public void A02() {
            C73053b1 c73053b1;
            Conversation conversation = Conversation.this;
            conversation.invalidateOptionsMenu();
            if (Build.VERSION.SDK_INT < 19 || (c73053b1 = conversation.A3h) == null || !c73053b1.A0D) {
                return;
            }
            c73053b1.A03();
        }

        @Override // X.C73363bW
        public void A03() {
            Conversation.this.invalidateOptionsMenu();
        }
    };
    public final C59022s5 A4h = new C59022s5() { // from class: X.1ie
        {
            Conversation.this = this;
        }

        @Override // X.C59022s5
        public void A00() {
            C73053b1 c73053b1;
            Conversation conversation = Conversation.this;
            C73453bf c73453bf = conversation.A3m;
            if (c73453bf != null) {
                if (c73453bf.A0S()) {
                    c73453bf.A01();
                } else {
                    C0HV c0hv = c73453bf.A0Y;
                    if (c0hv != null && c0hv.A0B()) {
                        conversation.A3m.A05();
                    }
                }
            }
            if (Build.VERSION.SDK_INT < 19 || (c73053b1 = conversation.A3h) == null || !c73053b1.A0D) {
                return;
            }
            c73053b1.A03();
        }
    };
    public final C34801i7 A4a = new C34801i7(this);
    public final C2GW A4n = new C2GW() { // from class: X.1i8
        {
            Conversation.this = this;
        }

        @Override // X.C2GW
        public void A00() {
            Conversation conversation = Conversation.this;
            conversation.A0X.post(new C1G5(conversation));
        }
    };
    public final AbstractC09240cu A4e = new AbstractC09240cu() { // from class: X.1i9
        {
            Conversation.this = this;
        }

        @Override // X.AbstractC09240cu
        public void A01(UserJid userJid) {
            Conversation conversation = Conversation.this;
            if (Conversation.A0T(conversation, userJid)) {
                conversation.A1n();
                conversation.invalidateOptionsMenu();
            }
        }
    };
    public final C2OV A4o = new C2OV() { // from class: X.1hE
        {
            Conversation.this = this;
        }

        @Override // X.C2OV
        public final void AJB(String str) {
            Conversation conversation = Conversation.this;
            conversation.A0X.post(new C1G5(conversation));
        }
    };
    public final C25R A4p = new C25R() { // from class: X.1iA
        {
            Conversation.this = this;
        }

        @Override // X.C25R
        public void A00() {
            C73453bf c73453bf = Conversation.this.A3m;
            if (c73453bf == null || !c73453bf.A0S()) {
                return;
            }
            c73453bf.A01();
        }
    };
    public final InterfaceC61762wg A4j = new InterfaceC61762wg() { // from class: X.1h9
        {
            Conversation.this = this;
        }

        @Override // X.InterfaceC61762wg
        public final void AGo(AbstractC005302j abstractC005302j) {
            Conversation conversation = Conversation.this;
            AbstractC005302j abstractC005302j2 = conversation.A2a;
            if (abstractC005302j2 == null) {
                throw null;
            }
            if (abstractC005302j2.equals(abstractC005302j)) {
                conversation.A1n();
                conversation.invalidateOptionsMenu();
            }
        }
    };
    public final C34841iB A4b = new C34841iB(this);
    public final TextView.OnEditorActionListener A4Z = new TextView.OnEditorActionListener() { // from class: X.1K6
        public boolean A00;

        {
            Conversation.this = this;
        }

        @Override // android.widget.TextView.OnEditorActionListener
        public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) {
            if (keyEvent != null) {
                keyEvent.getKeyCode();
            }
            if (i == 4) {
                Conversation.this.A2Q(false);
                return true;
            } else if (keyEvent == null || keyEvent.getKeyCode() != 66) {
                return false;
            } else {
                if (this.A00) {
                    this.A00 = false;
                    return true;
                }
                Conversation conversation = Conversation.this;
                if (((AbstractActivityC04650Lh) conversation).A0K.A00.getBoolean("input_enter_send", true)) {
                    conversation.A2Q(false);
                } else {
                    int selectionStart = conversation.A2f.getSelectionStart();
                    int selectionEnd = conversation.A2f.getSelectionEnd();
                    if (selectionStart != conversation.A2f.length()) {
                        conversation.A2f.getText().replace(Math.min(selectionStart, selectionEnd), Math.max(selectionStart, selectionEnd), "\n", 0, 1);
                    } else {
                        conversation.A2f.append("\n");
                    }
                }
                this.A00 = true;
                return true;
            }
        }
    };
    public final Handler A4R = new Handler(Looper.getMainLooper());
    public final Runnable A4t = new Runnable() { // from class: X.1K7
        {
            Conversation.this = this;
        }

        @Override // java.lang.Runnable
        public void run() {
            Conversation conversation = Conversation.this;
            TextView textView = conversation.A0Z;
            if (textView == null || textView.getVisibility() == 8) {
                return;
            }
            conversation.A0Z.setVisibility(8);
            TranslateAnimation translateAnimation = new TranslateAnimation(1, 0.0f, 1, 0.0f, 1, 0.0f, 1, -1.0f);
            translateAnimation.setDuration(200L);
            conversation.A0Z.startAnimation(translateAnimation);
        }
    };
    public final AbsListView.OnScrollListener A4Y = new AbsListView.OnScrollListener() { // from class: X.1K8
        public int A00;
        public int A01;
        public int A02;
        public int A03;

        {
            Conversation.this = this;
        }

        public final void A00(int i, int i2) {
            AnonymousClass092 item;
            Conversation conversation = Conversation.this;
            int count = conversation.A1S.getCount();
            while (i <= i2) {
                int headerViewsCount = i - conversation.A0X.getHeaderViewsCount();
                if (headerViewsCount >= 0 && headerViewsCount <= count - 1 && (item = conversation.A1S.getItem(headerViewsCount)) != null && item.A0m == 13) {
                    conversation.A7F(item.A0n);
                }
                i++;
            }
        }

        /* JADX WARN: Code restructure failed: missing block: B:191:0x0216, code lost:
            if (r8.A0p < r0.A0p) goto L69;
         */
        /* JADX WARN: Code restructure failed: missing block: B:235:0x0316, code lost:
            if (r32 != 0) goto L84;
         */
        /* JADX WARN: Removed duplicated region for block: B:136:0x0060  */
        /* JADX WARN: Removed duplicated region for block: B:155:0x00ef  */
        @Override // android.widget.AbsListView.OnScrollListener
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct code enable 'Show inconsistent code' option in preferences
        */
        public void onScroll(android.widget.AbsListView r30, int r31, int r32, int r33) {
            /*
                Method dump skipped, instructions count: 799
                To view this dump change 'Code comments level' option to 'DEBUG'
            */
            throw new UnsupportedOperationException("Method not decompiled: X.C1K8.onScroll(android.widget.AbsListView, int, int, int):void");
        }

        /* JADX WARN: Code restructure failed: missing block: B:59:0x0054, code lost:
            if (r4.A0x.A0E(X.C01C.A1g) != false) goto L24;
         */
        @Override // android.widget.AbsListView.OnScrollListener
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct code enable 'Show inconsistent code' option in preferences
        */
        public void onScrollStateChanged(android.widget.AbsListView r6, int r7) {
            /*
                r5 = this;
                r1 = 1
                if (r7 == 0) goto L20
                if (r7 != r1) goto Lc
                com.whatsapp.Conversation r0 = com.whatsapp.Conversation.this
                X.2F9 r0 = r0.A2z
                r0.A02(r1)
            Lc:
                com.whatsapp.Conversation r4 = com.whatsapp.Conversation.this
                android.os.Handler r1 = r4.A4R
                java.lang.Runnable r0 = r4.A4t
                r1.removeCallbacks(r0)
            L15:
                r4.A03 = r7
                if (r7 == 0) goto L78
                long r0 = java.lang.System.currentTimeMillis()
                X.C02180Ae.A00 = r0
                return
            L20:
                com.whatsapp.Conversation r4 = com.whatsapp.Conversation.this
                X.2F9 r0 = r4.A2z
                r0.A01()
                android.widget.ListView r0 = r4.A0X
                int r3 = r0.getChildCount()
                r2 = 0
            L2e:
                if (r2 >= r3) goto L56
                android.widget.ListView r0 = r4.A0X
                android.view.View r1 = r0.getChildAt(r2)
                boolean r0 = r1 instanceof X.C2X9
                if (r0 == 0) goto L6b
                boolean r0 = r1 instanceof X.AbstractC48182Ef
                if (r0 == 0) goto L6b
                X.2X9 r1 = (X.C2X9) r1
                X.2Eh r1 = (X.AbstractC48202Eh) r1
                X.092 r0 = r1.getFMessage()
                boolean r0 = r4.AFv(r0)
                if (r0 == 0) goto L6b
                X.01B r1 = r4.A0x
                X.03B r0 = X.C01C.A1g
                boolean r0 = r1.A0E(r0)
                if (r0 == 0) goto L6e
            L56:
                r2 = 0
            L57:
                if (r2 >= r3) goto L6e
                android.widget.ListView r0 = r4.A0X
                android.view.View r1 = r0.getChildAt(r2)
                boolean r0 = r1 instanceof X.C2X9
                if (r0 == 0) goto L68
                X.2X9 r1 = (X.C2X9) r1
                r1.AUy()
            L68:
                int r2 = r2 + 1
                goto L57
            L6b:
                int r2 = r2 + 1
                goto L2e
            L6e:
                android.os.Handler r3 = r4.A4R
                java.lang.Runnable r2 = r4.A4t
                r0 = 1000(0x3e8, double:4.94E-321)
                r3.postDelayed(r2, r0)
                goto L15
            L78:
                r0 = 0
                X.C02180Ae.A00 = r0
                return
            */
            throw new UnsupportedOperationException("Method not decompiled: X.C1K8.onScrollStateChanged(android.widget.AbsListView, int):void");
        }
    };
    public final TextWatcher A4T = new C2JT() { // from class: X.1iD
        {
            Conversation.this = this;
        }

        @Override // X.C2JT, android.text.TextWatcher
        public void afterTextChanged(Editable editable) {
            Conversation conversation = Conversation.this;
            if (!conversation.A4E) {
                if (editable.toString().length() != 0) {
                    conversation.A10.A0I((AbstractC005302j) conversation.A2D.A03(AbstractC005302j.class), 0);
                    return;
                }
                conversation.A4B = false;
                conversation.A10.A0G((AbstractC005302j) conversation.A2D.A03(AbstractC005302j.class));
            }
        }
    };
    public final TextWatcher A4V = new C34871iE(this);
    public final ViewTreeObserver.OnPreDrawListener A4X = new ViewTreeObserver.OnPreDrawListener() { // from class: X.1GE
        {
            Conversation.this = this;
        }

        @Override // android.view.ViewTreeObserver.OnPreDrawListener
        public final boolean onPreDraw() {
            return Conversation.this.A2V();
        }
    };
    public final View.OnClickListener A4W = new View.OnClickListener() { // from class: X.1GI
        {
            Conversation.this = this;
        }

        @Override // android.view.View.OnClickListener
        public final void onClick(View view) {
            Conversation.this.lambda$new$631$Conversation(view);
        }
    };
    public final DataSetObserver A4P = new DataSetObserver() { // from class: X.1KF
        @Override // android.database.DataSetObserver
        public void onChanged() {
        }

        {
            Conversation.this = this;
        }
    };
    public final C00T A4i = new C00T() { // from class: X.1iM
        {
            Conversation.this = this;
        }

        @Override // X.C00T
        public void A00(AbstractC005302j abstractC005302j) {
            if (abstractC005302j != null) {
                Conversation conversation = Conversation.this;
                if (abstractC005302j.equals(conversation.A2a)) {
                    conversation.A1S.A06();
                    Conversation.A0P(conversation);
                }
            }
        }

        @Override // X.C00T
        public void A05(AbstractC005302j abstractC005302j) {
            Conversation conversation = Conversation.this;
            if (abstractC005302j.equals(conversation.A2a)) {
                conversation.A1r();
                Conversation.A0P(conversation);
            }
        }

        @Override // X.C00T
        public void A07(AnonymousClass092 anonymousClass092, int i) {
            int i2;
            if (anonymousClass092 != null) {
                AnonymousClass094 anonymousClass094 = anonymousClass092.A0n;
                AbstractC005302j abstractC005302j = anonymousClass094.A00;
                Conversation conversation = Conversation.this;
                if (abstractC005302j.equals(conversation.A2a) && anonymousClass094.A02 && anonymousClass092.A0m != 8) {
                    if (conversation.A4D && (anonymousClass092 instanceof C04300Jq) && ((i2 = ((C04300Jq) anonymousClass092).A00) == 1 || i2 == 27 || i2 == 4 || i2 == 5 || i2 == 7 || i2 == 12 || i2 == 20 || i2 == 13 || i2 == 14 || i2 == 17 || i2 == 31 || i2 == 32 || i2 == 56)) {
                        conversation.A1V.A01();
                        conversation.A1n();
                    }
                    if (conversation.A07 != 0 && C0DB.A0I(conversation.A0q, anonymousClass092)) {
                        conversation.A1r();
                    }
                    StringBuilder A0P = C000200d.A0P("conversation/beforemsgadded/unseen/");
                    A0P.append(conversation.A07);
                    A0P.append("/");
                    A0P.append(conversation.A05);
                    A0P.append("/");
                    C000200d.A1F(A0P, conversation.A06);
                    if (conversation.A1S.getCursor() != null) {
                        conversation.A1S.A0N.add(anonymousClass092);
                    }
                    if (conversation.A1S.getCursor() != null) {
                        conversation.A1S.getCursor().getCount();
                    }
                    conversation.A1S.A00();
                    if (anonymousClass092.A08 != 6 && i != 7) {
                        conversation.A0O.setVisibility(8);
                        if (conversation.A34 != null) {
                            conversation.A26(R.drawable.ib_new_round);
                            conversation.A34 = null;
                        }
                        Conversation.A57.remove(conversation.A2a);
                        C73453bf c73453bf = conversation.A3m;
                        if (c73453bf != null) {
                            c73453bf.A0X = null;
                        }
                    }
                    conversation.A1m();
                    conversation.A1s();
                    long A04 = conversation.A1n.A04();
                    C0E3 c0e3 = conversation.A0r;
                    long j = A04 - anonymousClass092.A0u;
                    long j2 = A04 - anonymousClass092.A0y;
                    c0e3.A0E(anonymousClass092, 1, 0, false, false, 0, 0, false, 0, 0, 0, j, j2, j2);
                }
            }
        }

        @Override // X.C00T
        public void A08(AnonymousClass092 anonymousClass092, int i) {
            byte b;
            if (anonymousClass092 != null) {
                AbstractC005302j abstractC005302j = anonymousClass092.A0n.A00;
                Conversation conversation = Conversation.this;
                if (abstractC005302j.equals(conversation.A2a) && (b = anonymousClass092.A0m) != 8) {
                    C1GG c1gg = new C1GG(conversation, anonymousClass092, i, false);
                    conversation.A3u = c1gg;
                    conversation.A0X.postDelayed(c1gg, 0L);
                    if (i == 3) {
                        if (b == 1 && conversation.A0X.getLastVisiblePosition() >= conversation.A0X.getCount() - 2 && conversation.A0X.getChildCount() > 0) {
                            ListView listView = conversation.A0X;
                            if (anonymousClass092.equals(listView.getChildAt(listView.getChildCount() - 1).getTag())) {
                                conversation.A1s();
                            }
                        }
                    } else if (i == 20) {
                        conversation.A1S.A0I.clear();
                        conversation.A1m();
                    } else if (i != 24 || !((C0OU) Conversation.A58.get()).A01(abstractC005302j) || !((AbstractActivityC04650Lh) conversation).A0K.A00.getBoolean("conversation_sound", true) || !(!C0DB.A0W(anonymousClass092))) {
                    } else {
                        C0H9 c0h9 = conversation.A3X;
                        StringBuilder sb = new StringBuilder();
                        sb.append("android.resource://com.whatsapp/");
                        sb.append(R.raw.send_message);
                        c0h9.A02(Uri.parse(sb.toString()));
                    }
                }
            }
        }

        @Override // X.C00T
        public void A0A(Collection collection, AbstractC005302j abstractC005302j, Map map, boolean z) {
            if (collection != null && !collection.isEmpty()) {
                Iterator it = collection.iterator();
                while (it.hasNext()) {
                    C58342qz c58342qz = Conversation.this.A1S;
                    c58342qz.A0P.add(((AnonymousClass092) it.next()).A0n);
                }
            } else {
                Conversation.this.A1S.A06();
            }
            Conversation.A0P(Conversation.this);
        }

        @Override // X.C00T
        public void A0B(Collection collection, Map map, Map map2) {
            int i;
            int i2;
            C73053b1 c73053b1;
            Iterator it = collection.iterator();
            boolean z = false;
            boolean z2 = false;
            while (it.hasNext()) {
                AnonymousClass092 anonymousClass092 = (AnonymousClass092) it.next();
                AnonymousClass094 anonymousClass094 = anonymousClass092.A0n;
                AbstractC005302j abstractC005302j = anonymousClass094.A00;
                Conversation conversation = Conversation.this;
                if (abstractC005302j.equals(conversation.A2a)) {
                    if (Build.VERSION.SDK_INT >= 19 && (c73053b1 = conversation.A3h) != null && c73053b1.A0D && anonymousClass094.equals(c73053b1.A09)) {
                        z2 = true;
                    }
                    if (!conversation.A1w.A04(anonymousClass092) && (i = conversation.A07) > 0) {
                        conversation.A07 = i - 1;
                        if (anonymousClass092.A0m != 10 && (i2 = conversation.A05) > 0) {
                            conversation.A05 = i2 - 1;
                        }
                        conversation.A1o();
                    }
                    z = true;
                }
            }
            StringBuilder A0P = C000200d.A0P("conversation/observer/delete/unseen/");
            Conversation conversation2 = Conversation.this;
            A0P.append(conversation2.A07);
            A0P.append("/");
            A0P.append(conversation2.A05);
            A0P.append("/");
            C000200d.A1F(A0P, conversation2.A06);
            if (z) {
                if (conversation2.A07 > 0) {
                    int A01 = conversation2.A1S.A01() + 1;
                    if (conversation2.A1S.getCount() > A01) {
                        AnonymousClass092 item = conversation2.A1S.getItem(A01);
                        if (item != null) {
                            Iterator it2 = collection.iterator();
                            while (true) {
                                if (!it2.hasNext()) {
                                    break;
                                }
                                AnonymousClass092 anonymousClass0922 = (AnonymousClass092) it2.next();
                                if (anonymousClass0922.A0n.A00.equals(conversation2.A2a) && anonymousClass0922.A0p >= item.A0p) {
                                    conversation2.A1r();
                                    break;
                                }
                            }
                        } else {
                            throw null;
                        }
                    }
                }
                Conversation.A0P(conversation2);
                if (Build.VERSION.SDK_INT < 19 || !z2) {
                    return;
                }
                conversation2.A3h.A00();
            }
        }

        /* JADX WARN: Code restructure failed: missing block: B:190:0x00c3, code lost:
            if (r4 != 0) goto L89;
         */
        /* JADX WARN: Removed duplicated region for block: B:184:0x00b0 A[Catch: StaleDataException -> 0x01d8, TryCatch #1 {StaleDataException -> 0x01d8, blocks: (B:165:0x0061, B:167:0x0069, B:169:0x0072, B:171:0x007a, B:172:0x0092, B:174:0x0096, B:176:0x009c, B:178:0x00a2, B:180:0x00a6, B:182:0x00ac, B:184:0x00b0, B:210:0x0139, B:212:0x013b, B:185:0x00b5, B:187:0x00bd, B:189:0x00c1, B:191:0x00c5, B:207:0x0103, B:206:0x00fd, B:208:0x0108, B:192:0x00cb, B:194:0x00cf, B:196:0x00d7, B:198:0x00e4, B:200:0x00ec, B:202:0x00f4), top: B:271:0x0061 }] */
        /* JADX WARN: Removed duplicated region for block: B:209:0x0138  */
        @Override // X.C00T
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct code enable 'Show inconsistent code' option in preferences
        */
        public void A0C(X.AnonymousClass092 r19, int r20) {
            /*
                Method dump skipped, instructions count: 723
                To view this dump change 'Code comments level' option to 'DEBUG'
            */
            throw new UnsupportedOperationException("Method not decompiled: X.C34951iM.A0C(X.092, int):void");
        }
    };
    public final int[] A50 = new int[2];
    public boolean A4N = false;
    public boolean A49 = true;
    public final TextWatcher A4U = new C2JT() { // from class: X.1iQ
        {
            Conversation.this = this;
        }

        @Override // X.C2JT, android.text.TextWatcher
        public void afterTextChanged(Editable editable) {
            Conversation conversation = Conversation.this;
            String obj = editable.toString();
            conversation.A3x = obj;
            conversation.A41 = C09940f2.A03(obj, conversation.A1s);
            conversation.A3y = conversation.A3x;
            conversation.A1S.A06();
            conversation.A1m();
        }
    };
    public final InterfaceC09180cm A4d = new InterfaceC09180cm() { // from class: X.1iU
        {
            Conversation.this = this;
        }

        @Override // X.InterfaceC09180cm
        public void AHj() {
            Conversation.this.A2f.dispatchKeyEvent(new KeyEvent(0, 67));
        }

        @Override // X.InterfaceC09180cm
        public void AJi(int[] iArr) {
            Conversation conversation = Conversation.this;
            C002701i.A1H(conversation.A2f, iArr, 0);
            conversation.A2f.callOnClick();
        }
    };
    public final InterfaceC53342en A4q = new InterfaceC53342en() { // from class: X.1iV
        {
            Conversation.this = this;
        }

        @Override // X.InterfaceC53342en
        public void AP7(C0JM c0jm, Integer num) {
            Conversation conversation = Conversation.this;
            if (!conversation.A1q.A06()) {
                int i = Build.VERSION.SDK_INT;
                int i2 = R.string.permission_storage_need_write_access_on_sending_media_v30;
                if (i < 30) {
                    i2 = R.string.permission_storage_need_write_access_on_sending_media;
                }
                RequestPermissionActivity.A06(conversation, R.string.permission_storage_need_write_access_on_sending_media_request, i2, false, 812);
            } else if (conversation.A1H.A0H((UserJid) conversation.A2D.A03(UserJid.class))) {
                C002701i.A19(conversation, 106);
            } else {
                conversation.A30.A00(false);
                C48352Ex c48352Ex = conversation.A2N;
                if (c48352Ex != null && !c48352Ex.isShowing()) {
                    conversation.A2f.A02(false);
                }
                C018608r c018608r = conversation.A10;
                AbstractC005302j abstractC005302j = conversation.A2a;
                if (abstractC005302j != null) {
                    c018608r.A0Z(c0jm, abstractC005302j, conversation.A34, conversation.A4A, num);
                    if (conversation.A3O.A00 && num != null && 7 == num.intValue() && 1 == conversation.getResources().getConfiguration().orientation) {
                        MentionableEntry mentionableEntry = conversation.A2f;
                        if (mentionableEntry != null) {
                            mentionableEntry.selectAll();
                        }
                        C48352Ex c48352Ex2 = conversation.A2N;
                        if (c48352Ex2 != null) {
                            c48352Ex2.A04(((C48362Ey) c48352Ex2).A0I);
                            return;
                        }
                        return;
                    }
                    return;
                }
                throw null;
            }
        }
    };
    public final C0R6 A4c = new C0R6(this);

    @Override // X.AbstractActivityC04650Lh, X.AbstractActivityC04670Lj
    public int A1R() {
        return 703923896;
    }

    @Override // X.InterfaceC04710Ln
    public void A5b() {
    }

    @Override // X.InterfaceC04690Ll
    public int A95() {
        return 0;
    }

    @Override // X.InterfaceC04730Lp
    public void AKm() {
    }

    public static Intent A00(Context context, C06C c06c) {
        return A02(context, (AbstractC005302j) c06c.A03(AbstractC005302j.class));
    }

    public static Intent A01(Context context, AbstractC005302j abstractC005302j) {
        return A02(context, abstractC005302j).putExtra("start_t", SystemClock.uptimeMillis());
    }

    public static Intent A02(Context context, AbstractC005302j abstractC005302j) {
        return new Intent(context, Conversation.class).putExtra("jid", C003101m.A07(abstractC005302j)).addFlags(335544320);
    }

    public static Intent A03(Context context, AbstractC005302j abstractC005302j, String str) {
        return A0E(context, true, true, str, (byte) 0, abstractC005302j, true);
    }

    public static Intent A04(Context context, AnonymousClass092 anonymousClass092, String str) {
        AnonymousClass094 anonymousClass094 = anonymousClass092.A0n;
        Intent putExtra = A01(context, anonymousClass094.A00).putExtra("row_id", anonymousClass092.A0p).putExtra("query", str);
        C0LD.A00(putExtra, anonymousClass094);
        return putExtra;
    }

    public static Intent A05(Context context, boolean z, boolean z2, byte b, AbstractC005302j abstractC005302j, boolean z3, String str, String str2, String str3) {
        Intent intent = new Intent(context, Conversation.class);
        intent.putExtra("jid", abstractC005302j.getRawString());
        intent.putExtra("wa_type", b);
        intent.putExtra("has_share", true);
        intent.putExtra("confirm", z);
        intent.putExtra("text_from_url", z2);
        intent.putExtra("number_from_url", z3);
        intent.putExtra("iq_code", str);
        intent.putExtra("icebreaker", str2);
        intent.putExtra("source_url", str3);
        intent.addFlags(335544320);
        A0L(context, intent);
        return intent;
    }

    public static Intent A0E(Context context, boolean z, boolean z2, String str, byte b, AbstractC005302j abstractC005302j, boolean z3) {
        Intent intent = new Intent(context, Conversation.class);
        intent.putExtra("jid", abstractC005302j.getRawString());
        intent.putExtra("wa_type", b);
        intent.putExtra("share_msg", str);
        intent.putExtra("has_share", true);
        intent.putExtra("confirm", z);
        intent.putExtra("text_from_url", z2);
        intent.putExtra("number_from_url", z3);
        intent.addFlags(335544320);
        A0L(context, intent);
        return intent;
    }

    public static Animation A0F(boolean z, boolean z2) {
        ScaleAnimation scaleAnimation;
        AnimationSet animationSet = new AnimationSet(true);
        AlphaAnimation alphaAnimation = z2 ? new AlphaAnimation(0.0f, 1.0f) : new AlphaAnimation(1.0f, 0.0f);
        alphaAnimation.setDuration(100L);
        animationSet.addAnimation(alphaAnimation);
        if (z2) {
            scaleAnimation = new ScaleAnimation(0.0f, 1.0f, 1.0f, 1.0f, 1, z ? 1.0f : 0.0f, 1, 0.5f);
        } else {
            scaleAnimation = new ScaleAnimation(1.0f, 0.0f, 1.0f, 1.0f, 1, z ? 1.0f : 0.0f, 1, 0.5f);
        }
        scaleAnimation.setDuration(100L);
        animationSet.addAnimation(scaleAnimation);
        animationSet.setDuration(100L);
        return animationSet;
    }

    public static Animation A0G(boolean z, boolean z2, boolean z3) {
        AnimationSet animationSet = new AnimationSet(true);
        if (z3) {
            AlphaAnimation alphaAnimation = z2 ? new AlphaAnimation(0.0f, 1.0f) : new AlphaAnimation(1.0f, 0.0f);
            alphaAnimation.setDuration(100L);
            animationSet.addAnimation(alphaAnimation);
        }
        float f = z ? 1.0f : -1.0f;
        float f2 = z2 ? f : 0.0f;
        if (z2) {
            f = 0.0f;
        }
        TranslateAnimation translateAnimation = new TranslateAnimation(1, f2, 1, f, 1, 0.0f, 1, 0.0f);
        translateAnimation.setDuration(100L);
        animationSet.addAnimation(translateAnimation);
        animationSet.setDuration(100L);
        return animationSet;
    }

    public static void A0L(Context context, Intent intent) {
        intent.setPackage(context.getPackageName());
        Intent intent2 = new Intent();
        intent2.setComponent(new ComponentName(context.getPackageName(), "FakeClass"));
        intent.putExtra("authentication_token", PendingIntent.getActivity(context.getApplicationContext(), 0, intent2, 0));
    }

    public static void A0M(Intent intent, C07610Yz c07610Yz) {
        if (c07610Yz != null && c07610Yz.A02()) {
            List list = c07610Yz.A02;
            if (list == null) {
                list = new ArrayList();
                c07610Yz.A02 = list;
            }
            intent.putExtra("preferred_label", (String) list.get(0));
        }
    }

    public static void A0N(Conversation conversation) {
        MentionPickerView mentionPickerView;
        if (conversation.isFinishing()) {
            return;
        }
        conversation.A1S.A06();
        conversation.A1m();
        conversation.A1n();
        MentionableEntry mentionableEntry = conversation.A2f;
        if (mentionableEntry != null && (mentionPickerView = mentionableEntry.A0C) != null) {
            mentionPickerView.A05();
        }
        C2J9 c2j9 = (C2J9) conversation.A1R.A00.get(C54452il.class);
        if (c2j9 != null && c2j9.A04()) {
            conversation.A20();
        }
        if (conversation.A4D) {
            conversation.invalidateOptionsMenu();
        }
    }

    public static void A0O(Conversation conversation) {
        if (conversation.A4I) {
            conversation.A1s();
            conversation.A4I = false;
        } else if (conversation.A0X.getLastVisiblePosition() >= conversation.A0X.getCount() - 2) {
            conversation.A1s();
        } else {
            conversation.A0X.smoothScrollBy((int) conversation.getResources().getDimension(R.dimen.conversation_row_min_height), 100);
        }
    }

    public static void A0P(Conversation conversation) {
        if (conversation != null) {
            StringBuilder A0P = C000200d.A0P("conversation/recreatemessagelist/");
            A0P.append(conversation.A0A);
            A0P.append(" ");
            C000200d.A1V(A0P, conversation.A49);
            C35151ig c35151ig = conversation.A0i;
            if (c35151ig != null) {
                c35151ig.A05(true);
            }
            C58342qz c58342qz = conversation.A1S;
            c58342qz.A0N.clear();
            c58342qz.A0I.clear();
            C27661Og A08 = conversation.A20.A08(conversation.A2a, conversation.A0A, conversation.A1Z(), conversation.A09);
            conversation.A0A = A08.A01;
            int count = conversation.A1S.getCount();
            conversation.A1S.changeCursor(A08.A00);
            conversation.A1f.A00.setVisibility(conversation.A49 ? 0 : 8);
            if (!conversation.A49 || count <= conversation.A1S.getCount()) {
                return;
            }
            conversation.A1l();
            return;
        }
        throw null;
    }

    public static void A0Q(Conversation conversation, AbstractC005302j abstractC005302j) {
        if (abstractC005302j.equals(conversation.A2a)) {
            conversation.A0X.post(new Runnable() { // from class: X.1G9
                {
                    Conversation.this = conversation;
                }

                @Override // java.lang.Runnable
                public final void run() {
                    Conversation.this.A25();
                }
            });
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r2v4, types: [X.37g, X.0HS] */
    public static void A0R(Conversation conversation, boolean z) {
        if (TextUtils.isEmpty(conversation.A3x)) {
            conversation.A3x = null;
            conversation.A41 = null;
            return;
        }
        conversation.A3y = conversation.A3x;
        conversation.A2f.A01();
        int firstVisiblePosition = conversation.A0X.getFirstVisiblePosition() - conversation.A0X.getHeaderViewsCount();
        for (int i = 1; i < conversation.A0X.getChildCount(); i++) {
            firstVisiblePosition = (conversation.A0X.getFirstVisiblePosition() + i) - conversation.A0X.getHeaderViewsCount();
            if (conversation.A0X.getChildAt(i).getTop() >= conversation.getResources().getDimensionPixelSize(R.dimen.conversation_row_min_height)) {
                break;
            }
        }
        StringBuilder A0P = C000200d.A0P("conversation/search/ first-visible:");
        A0P.append(conversation.A0X.getFirstVisiblePosition());
        A0P.append(" header-count:");
        A0P.append(conversation.A0X.getHeaderViewsCount());
        A0P.append(" first-pos:");
        A0P.append(firstVisiblePosition);
        A0P.append(" up:");
        C000200d.A1V(A0P, z);
        if (firstVisiblePosition < 0) {
            conversation.A0n.A07(R.string.not_found, 0);
            conversation.A11.sendAccessibilityEvent(8);
            conversation.A11.requestFocus();
            conversation.A11.A02(false);
            return;
        }
        AnonymousClass092 item = conversation.A1S.getItem(firstVisiblePosition);
        if (item == null) {
            return;
        }
        if (item.A0n.A00 == null) {
            Log.i("conversation/search/divider-at-search-position");
            item = conversation.A1S.getItem(firstVisiblePosition + 1);
            if (item == null) {
                Log.w("conversation/search/first-message-is-null");
                return;
            }
        }
        C654537g c654537g = conversation.A1T;
        if (c654537g != null) {
            c654537g.A05(true);
        }
        C0IU c0iu = conversation.A24;
        if (c0iu == null) {
            c0iu = conversation.A23.A09(conversation.A2a);
            conversation.A24 = c0iu;
        }
        c0iu.A08 = conversation.A3x;
        c0iu.A03 = null;
        c0iu.A05(conversation.A41);
        ?? r2 = new C0HS(conversation.A28, conversation.A23, conversation.A20, conversation, c0iu, z, item) { // from class: X.37g
            public int A00;
            public long A01 = 1;
            public C27661Og A02;
            public AnonymousClass092 A03;
            public final C0C9 A04;
            public final C0D5 A05;
            public final C0IU A06;
            public final C05O A07;
            public final AbstractC005302j A08;
            public final AnonymousClass092 A09;
            public final WeakReference A0A;
            public final boolean A0B;

            {
                this.A07 = r3;
                this.A05 = r4;
                this.A04 = r5;
                AbstractC005302j abstractC005302j = c0iu.A04;
                if (abstractC005302j != null) {
                    this.A08 = abstractC005302j;
                    this.A06 = c0iu;
                    this.A0B = z;
                    this.A09 = item;
                    this.A0A = new WeakReference(conversation);
                    return;
                }
                throw null;
            }

            @Override // X.C0HS
            public void A06() {
                InterfaceC04770Lt interfaceC04770Lt = (InterfaceC04770Lt) this.A0A.get();
                long A04 = this.A05.A04();
                this.A01 = A04;
                if (interfaceC04770Lt != null) {
                    interfaceC04770Lt.AJ2(this.A0B, A04);
                }
            }

            /* JADX WARN: Finally extract failed */
            /* JADX WARN: Removed duplicated region for block: B:135:0x0202  */
            @Override // X.C0HS
            /*
                Code decompiled incorrectly, please refer to instructions dump.
                To view partially-correct code enable 'Show inconsistent code' option in preferences
            */
            public java.lang.Object A07(java.lang.Object[] r23) {
                /*
                    Method dump skipped, instructions count: 616
                    To view this dump change 'Code comments level' option to 'DEBUG'
                */
                throw new UnsupportedOperationException("Method not decompiled: X.C654537g.A07(java.lang.Object[]):java.lang.Object");
            }

            @Override // X.C0HS
            public void A09(Object obj) {
                InterfaceC04770Lt interfaceC04770Lt = (InterfaceC04770Lt) this.A0A.get();
                if (interfaceC04770Lt != null) {
                    interfaceC04770Lt.AJ1(this.A02, this.A03, this.A00, this.A01);
                }
            }
        };
        conversation.A1T = r2;
        conversation.A3e.AS4(r2, new Void[0]);
    }

    public static void A0S(AbstractC005302j abstractC005302j) {
        C0OU c0ou = (C0OU) A58.get();
        if (c0ou.A02) {
            if (abstractC005302j == null || abstractC005302j.equals(c0ou.A00().A2a)) {
                c0ou.A00().finish();
                return;
            }
            return;
        }
        Conversation conversation = c0ou.A00;
        if (conversation == null || conversation.isFinishing()) {
            return;
        }
        if (abstractC005302j != null && !abstractC005302j.equals(conversation.A2a)) {
            return;
        }
        conversation.finish();
    }

    public static boolean A0T(Conversation conversation, AbstractC005302j abstractC005302j) {
        if (conversation != null) {
            return abstractC005302j != null && abstractC005302j.equals(conversation.A2a);
        }
        throw null;
    }

    public static final boolean A0U(C09G c09g, AnonymousClass092 anonymousClass092, boolean z) {
        AnonymousClass097 anonymousClass097;
        C09H c09h;
        if (((AnonymousClass092) c09g).A04 == 1 && anonymousClass092 != null && anonymousClass092.A0m == 2 && anonymousClass092.A04 == 1) {
            return (z || !anonymousClass092.A0n.A02 || c09g.A0n.A02) && (c09h = (anonymousClass097 = (AnonymousClass097) anonymousClass092).A02) != null && c09h.A0F != null && C0DB.A0o(anonymousClass097);
        }
        return false;
    }

    @Override // X.AbstractActivityC04670Lj
    public void A1S() {
        if (this.A42) {
            return;
        }
        C001800u c001800u = ((AbstractActivityC04670Lj) this).A00.A01;
        c001800u.A03.AGI(c001800u.A01.A00, (short) 230);
        if (getIntent().hasExtra("start_t")) {
            long uptimeMillis = SystemClock.uptimeMillis() - getIntent().getLongExtra("start_t", 0L);
            this.A2y.A01.AGI(703934026, (short) 2);
            this.A2L.A03(3, uptimeMillis);
            getIntent().removeExtra("start_t");
        }
    }

    @Override // X.AbstractActivityC04650Lh
    public boolean A1X() {
        if (((AbstractActivityC04650Lh) this).A00 != null) {
            return false;
        }
        C0U0 c0u0 = this.A0e;
        if (c0u0 != null) {
            c0u0.A05();
        }
        Log.i("conversation/selectionrequested");
        this.A0X.setTranscriptMode(0);
        A1m();
        C0U0 A0e = A0e(new C2KV(this, this.A0n, this.A2g, this.A3H, this.A0q, this.A3e, this.A3J, this.A2M, this.A0x, this.A1J, this.A10, this.A3F, this.A0f, ((AbstractActivityC04650Lh) this).A06, this.A2F, this.A1l, this.A1N, this.A1s, this.A2W, this.A3G, this.A3I, this.A2A, super.A0V, this.A2e, this.A25, this.A31) { // from class: X.1Xx
            {
                Conversation.this = this;
            }

            @Override // X.C2KV
            public Map A02() {
                return ((AbstractActivityC04650Lh) Conversation.this).A0G;
            }

            @Override // X.C2KV
            public void A03() {
                C0U0 c0u02 = ((AbstractActivityC04650Lh) Conversation.this).A00;
                if (c0u02 != null) {
                    c0u02.A05();
                }
            }

            @Override // X.C2KV
            public void A04(Menu menu) {
                Conversation.this.A1w();
            }

            public final void A05(AnonymousClass092 anonymousClass092) {
                Conversation.A57.put(anonymousClass092.A0A(), anonymousClass092);
                Conversation conversation = Conversation.this;
                Intent intent = new Intent(conversation, Conversation.class);
                intent.putExtra("jid", C003101m.A07(anonymousClass092.A0A()));
                conversation.startActivity(intent);
                conversation.finish();
            }

            @Override // X.C2KV, X.C0O8
            public boolean AGv(C0U0 c0u02, MenuItem menuItem) {
                Conversation conversation = Conversation.this;
                C59232sQ c59232sQ = ((AbstractActivityC04650Lh) conversation).A0G;
                if (c59232sQ == null || c59232sQ.size() == 0) {
                    return true;
                }
                if (menuItem.getItemId() != R.id.menuitem_add_to_contacts && menuItem.getItemId() != R.id.menuitem_message_contact) {
                    if (menuItem.getItemId() == R.id.menuitem_reply) {
                        AnonymousClass092 A01 = A01();
                        if (conversation.A2S()) {
                            A05(A01);
                        } else {
                            conversation.A2O(A01, true);
                        }
                        A03();
                        return true;
                    } else if (menuItem.getItemId() == R.id.menuitem_reply_privately) {
                        A05(A01());
                        A03();
                        return true;
                    } else {
                        return super.AGv(c0u02, menuItem);
                    }
                }
                boolean A2Y = conversation.A2Y(menuItem.getItemId(), C0ES.A01(A01()));
                A03();
                return A2Y;
            }

            @Override // X.C0O8
            public void AJK(C0U0 c0u02) {
                Log.i("conversation/selectionended");
                Conversation conversation = Conversation.this;
                C59232sQ c59232sQ = ((AbstractActivityC04650Lh) conversation).A0G;
                if (c59232sQ != null) {
                    c59232sQ.A00();
                    ((AbstractActivityC04650Lh) conversation).A0G = null;
                }
                conversation.A1m();
                ((AbstractActivityC04650Lh) conversation).A00 = null;
                conversation.A1S.A07 = null;
                if (conversation.A34 == null) {
                    conversation.A1w();
                }
            }
        });
        ((AbstractActivityC04650Lh) this).A00 = A0e;
        this.A1S.A07 = A0e;
        return true;
    }

    public final int A1Y() {
        Point point = new Point();
        getWindowManager().getDefaultDisplay().getSize(point);
        return (point.y - (getResources().getDimensionPixelSize(R.dimen.header_height) << 1)) / 5;
    }

    public final int A1Z() {
        Point point = new Point();
        getWindowManager().getDefaultDisplay().getSize(point);
        int dimensionPixelSize = (point.y << 1) / getResources().getDimensionPixelSize(R.dimen.conversation_row_min_height);
        int i = this.A07;
        if (i > dimensionPixelSize - 10) {
            StringBuilder A0P = C000200d.A0P("conversation/page size (from unseen):");
            A0P.append(i + 10);
            Log.i(A0P.toString());
            return this.A07 + 10;
        }
        C000200d.A0q("conversation/page size:", dimensionPixelSize);
        return dimensionPixelSize;
    }

    public final int A1a(int i) {
        if (i == 0) {
            if (!this.A2f.A0I) {
                return R.drawable.ib_new_expanded;
            }
            return R.drawable.ib_new_expanded_bottom;
        } else if (i != 1) {
            if (i != 2) {
                return R.drawable.ib_new_round;
            }
            if (this.A0O.getVisibility() != 0 && this.A0P.getVisibility() != 0) {
                return R.drawable.ib_new_round;
            }
            return R.drawable.ib_new_expanded;
        } else if (this.A2f.A0I) {
            return R.drawable.ib_new_expanded_bottom;
        } else {
            if (this.A0O.getVisibility() == 0 && this.A0P.getVisibility() == 0) {
                return R.drawable.ib_new_expanded;
            }
            return R.drawable.ib_new_round;
        }
    }

    public final int A1b(AnonymousClass092 anonymousClass092) {
        int A03 = this.A28.A03(this.A2a, this.A0A, anonymousClass092.A0p);
        return (this.A07 <= 0 || A03 < this.A1S.A01()) ? A03 : A03 + 1;
    }

    public C2N3 A1c() {
        C2N3 c2n3 = this.A1C;
        if (c2n3 == null) {
            C2N3 c2n32 = new C2N3(this.A1B);
            this.A1C = c2n32;
            return c2n32;
        }
        return c2n3;
    }

    public final AbstractC48182Ef A1d(AnonymousClass094 anonymousClass094) {
        int childCount = this.A0X.getChildCount();
        for (int i = 0; i < childCount; i++) {
            View childAt = this.A0X.getChildAt(i);
            if (childAt instanceof AbstractC48182Ef) {
                AbstractC48182Ef abstractC48182Ef = (AbstractC48182Ef) childAt;
                if (abstractC48182Ef.A0h(anonymousClass094)) {
                    return abstractC48182Ef;
                }
            }
        }
        return null;
    }

    public final AnonymousClass092 A1e() {
        C59232sQ c59232sQ = ((AbstractActivityC04650Lh) this).A0G;
        if (c59232sQ == null || c59232sQ.isEmpty()) {
            return null;
        }
        return c59232sQ.entrySet().iterator().next().getValue();
    }

    public final AnonymousClass092 A1f(AnonymousClass092 anonymousClass092) {
        int count = this.A1S.getCount();
        int A03 = this.A1S.A03(anonymousClass092);
        if (A03 < 0) {
            return null;
        }
        int i = A03 + 1;
        AnonymousClass092 item = this.A1S.getItem(i);
        while (i <= count && item != null && (item.A0n.A00 == null || item.A0m == 10)) {
            item = this.A1S.getItem(i);
            i++;
        }
        return item;
    }

    public void A1g() {
        if (C2MB.A00(this.A0E)) {
            this.A2f.A01();
        } else {
            A2U();
        }
    }

    public final void A1h() {
        C84143tG c84143tG = this.A3i;
        if (c84143tG != null) {
            c84143tG.A05(true);
            this.A3i = null;
        }
        InterfaceC73333bT interfaceC73333bT = new InterfaceC73333bT() { // from class: X.1hD
            {
                Conversation.this = this;
            }

            @Override // X.InterfaceC73333bT
            public final void AO9(C73343bU c73343bU) {
                Conversation.this.A2P(c73343bU);
            }
        };
        C0C9 c0c9 = this.A20;
        C2MV c2mv = this.A3k;
        AbstractC005302j abstractC005302j = this.A2a;
        if (abstractC005302j != null) {
            C84143tG c84143tG2 = new C84143tG(c0c9, c2mv, interfaceC73333bT, abstractC005302j);
            this.A3i = c84143tG2;
            this.A3e.ARy(c84143tG2, new Void[0]);
            return;
        }
        throw null;
    }

    public final void A1i() {
        MentionableEntry mentionableEntry = this.A2f;
        TextWatcher textWatcher = this.A4T;
        mentionableEntry.removeTextChangedListener(textWatcher);
        this.A4B = false;
        this.A3v = null;
        this.A3w = null;
        try {
            this.A2f.setText("");
            A1w();
            TextKeyListener.clear(this.A2f.getText());
            this.A2f.addTextChangedListener(textWatcher);
            A1h();
        } catch (Throwable th) {
            this.A2f.addTextChangedListener(textWatcher);
            throw th;
        }
    }

    public final void A1j() {
        if (this.A3m != null) {
            return;
        }
        getLayoutInflater().inflate(R.layout.voice_note_view, (ViewGroup) findViewById(R.id.voice_note_stub), true);
        C73453bf c73453bf = new C73453bf(this, this, this.A0o, this.A1n, this.A2J, this.A0n, this.A3e, this.A0m, this.A2M, this.A3Y, this.A0x, this.A10, this.A2d, this.A3n, this.A3q, this.A1l, this.A1s, this.A36, this.A1H, this.A2L, this.A1j, this.A3b, this.A2I, this.A3l, this.A1r, this.A15, this.A3k, this.A2e, this.A31, this.A38, this.A1c) { // from class: X.1iP
            {
                Conversation.this = this;
            }

            @Override // X.C73453bf
            public void A03() {
                Conversation.this.A2Q(false);
            }

            @Override // X.C73453bf
            public void A04() {
                Conversation conversation = Conversation.this;
                C2JU c2ju = conversation.A1h;
                if (c2ju.A00 instanceof C38D) {
                    conversation.A40 = null;
                    c2ju.A00 = null;
                    conversation.A1k();
                }
            }

            @Override // X.C73453bf
            public boolean A0Q() {
                Conversation conversation = Conversation.this;
                boolean z = !conversation.A1q.A06();
                if (conversation.A1q.A02("android.permission.RECORD_AUDIO") != 0) {
                    if (z) {
                        Intent putExtra = new Intent(conversation, RequestPermissionActivity.class).putExtra("drawable_ids", new int[]{R.drawable.permission_storage, R.drawable.permission_plus, R.drawable.permission_mic}).putExtra("message_id", R.string.permission_storage_mic_on_audio_msg_request);
                        int i = Build.VERSION.SDK_INT;
                        int i2 = R.string.permission_storage_mic_on_audio_msg_v30;
                        if (i < 30) {
                            i2 = R.string.permission_storage_mic_on_audio_msg;
                        }
                        conversation.startActivity(putExtra.putExtra("perm_denial_message_id", i2).putExtra("permissions", new String[]{"android.permission.RECORD_AUDIO", "android.permission.WRITE_EXTERNAL_STORAGE", "android.permission.READ_EXTERNAL_STORAGE"}));
                    } else {
                        conversation.startActivity(new Intent(conversation, RequestPermissionActivity.class).putExtra("drawable_id", R.drawable.permission_mic).putExtra("message_id", R.string.permission_mic_access_on_audio_msg_request).putExtra("perm_denial_message_id", R.string.permission_mic_access_on_audio_msg).putExtra("permissions", new String[]{"android.permission.RECORD_AUDIO"}));
                    }
                } else if (!z) {
                    return true;
                } else {
                    int i3 = Build.VERSION.SDK_INT;
                    int i4 = R.string.permission_storage_need_write_access_on_record_audio_v30;
                    if (i3 < 30) {
                        i4 = R.string.permission_storage_need_write_access_on_record_audio;
                    }
                    RequestPermissionActivity.A05(conversation, R.string.permission_storage_need_write_access_on_record_audio_request, i4);
                }
                return false;
            }
        };
        this.A3m = c73453bf;
        c73453bf.A0G(this.A2a);
        c73453bf.A0X = this.A34;
        C05920Qu c05920Qu = this.A1h.A00;
        if (c05920Qu instanceof C38D) {
            c73453bf.A0U = (C38D) c05920Qu;
        }
    }

    public final void A1k() {
        int i;
        if (this.A0P.getVisibility() != 0 || (i = this.A08) < 0) {
            return;
        }
        C000200d.A1F(C000200d.A0P("conversation/hidelinkpreview/start "), i);
        A2A(this.A0P, this.A1Z);
        A1p();
    }

    /* JADX WARN: Type inference failed for: r0v2, types: [X.1ig] */
    public final void A1l() {
        if (this.A0i == null && this.A49) {
            this.A0i = new C0HS(this, this.A28, this.A20, this.A2a, this.A0A, this.A09) { // from class: X.1ig
                public boolean A00;
                public final int A01 = 100;
                public final long A02;
                public final long A03;
                public final C0C9 A04;
                public final C05O A05;
                public final AbstractC005302j A06;
                public final WeakReference A07;

                {
                    this.A05 = r4;
                    this.A04 = r5;
                    this.A07 = new WeakReference(this);
                    this.A06 = r6;
                    this.A03 = r7;
                    this.A02 = r9;
                }

                @Override // X.C0HS
                public Object A07(Object[] objArr) {
                    Log.i("conversation/more-messages/loading");
                    C0C9 c0c9 = this.A04;
                    AbstractC005302j abstractC005302j = this.A06;
                    C27661Og A09 = c0c9.A09(abstractC005302j, this.A03, this.A01, this.A02);
                    A09.A00.getCount();
                    this.A00 = this.A05.A08(abstractC005302j, A09.A01);
                    return A09;
                }

                @Override // X.C0HS
                public void A08() {
                    Conversation conversation = (Conversation) this.A07.get();
                    if (conversation != null) {
                        conversation.A0i = null;
                    }
                }

                @Override // X.C0HS
                public void A09(Object obj) {
                    C27661Og c27661Og = (C27661Og) obj;
                    Conversation conversation = (Conversation) this.A07.get();
                    if (conversation != null) {
                        boolean z = this.A00;
                        int firstVisiblePosition = conversation.A0X.getFirstVisiblePosition();
                        int count = conversation.A1S.getCount();
                        View childAt = conversation.A0X.getChildAt(0);
                        int top = childAt == null ? 0 : childAt.getTop();
                        if (c27661Og.A00.moveToFirst()) {
                            AnonymousClass092 A0D = conversation.A20.A0D(c27661Og.A00, conversation.A2a);
                            if (A0D != null) {
                                C58342qz c58342qz = conversation.A1S;
                                if (c58342qz != null) {
                                    ArrayList arrayList = c58342qz.A0N;
                                    ArrayList arrayList2 = new ArrayList(arrayList.size());
                                    Iterator it = arrayList.iterator();
                                    while (it.hasNext()) {
                                        AnonymousClass092 anonymousClass092 = (AnonymousClass092) it.next();
                                        if (anonymousClass092.A0p != 0 && anonymousClass092.A0p <= A0D.A0p) {
                                            arrayList2.add(anonymousClass092);
                                        }
                                    }
                                    c58342qz.A0N.removeAll(arrayList2);
                                } else {
                                    throw null;
                                }
                            } else {
                                throw null;
                            }
                        }
                        conversation.A1S.A0I.clear();
                        conversation.A0A = c27661Og.A01;
                        conversation.A1S.changeCursor(c27661Og.A00);
                        int count2 = (conversation.A1S.getCount() - count) + firstVisiblePosition;
                        conversation.A28(count2, top);
                        conversation.A49 = z;
                        conversation.A01 = count2;
                        conversation.A02 = top;
                        StringBuilder A0P = C000200d.A0P("conversation/loaded-more/cursor:");
                        A0P.append(c27661Og.A00.getCount());
                        A0P.append(" appended:");
                        A0P.append(conversation.A1S.A00());
                        A0P.append(" more:");
                        C000200d.A1V(A0P, conversation.A49);
                        conversation.A1f.A00.setVisibility(conversation.A49 ? 0 : 8);
                        conversation.A0i = null;
                    }
                }
            };
            Log.i("conversation/more-messages/time to load more");
            this.A3e.AS4(this.A0i, new Void[0]);
        }
    }

    public final void A1m() {
        this.A1S.notifyDataSetChanged();
        if (this.A46) {
            this.A48 = false;
            this.A4J = false;
        }
    }

    public final void A1n() {
        this.A2D = this.A1y.A02((AbstractC005302j) this.A2D.A03(AbstractC005302j.class));
        A1y();
        if (this.A4D) {
            this.A2D.A03(C011005l.class);
        }
        C06C c06c = this.A2D;
        if (C003101m.A0Y(c06c.A02())) {
            this.A0E.setVisibility(8);
            this.A0b.setVisibility(0);
            this.A0b.setText(getString(R.string.cant_send_official_announcements));
            this.A0b.setClickable(false);
        } else {
            if (this.A4D) {
                C0C8 c0c8 = this.A25;
                Jid A03 = c06c.A03(C011005l.class);
                if (A03 != null) {
                    if (!c0c8.A01((AbstractC011205o) A03).A0B(c0c8.A01)) {
                        this.A0E.setVisibility(8);
                        this.A0b.setVisibility(0);
                        TextView textView = this.A0b;
                        boolean z = this.A2D.A0S;
                        int i = R.string.cannot_send_not_a_group_participant;
                        if (z) {
                            i = R.string.cannot_send_chat_has_been_closed;
                        }
                        textView.setText(getString(i));
                        this.A0b.setClickable(false);
                    }
                } else {
                    throw null;
                }
            }
            if (A2S()) {
                this.A0E.setVisibility(8);
                if (A2T()) {
                    C73453bf c73453bf = this.A3m;
                    if (c73453bf != null) {
                        c73453bf.A0P(false, false, true);
                    } else {
                        throw null;
                    }
                }
                this.A0b.setVisibility(0);
                this.A0b.setText(Html.fromHtml(getString(R.string.group_announcement_footer_description, String.format(Locale.US, "%06X", Integer.valueOf(16777215 & C02160Ac.A00(this, R.color.accent_light))))));
                this.A0b.setOnClickListener(new AbstractView$OnClickListenerC49532Ky() { // from class: X.1iX
                    {
                        Conversation.this = this;
                    }

                    @Override // X.AbstractView$OnClickListenerC49532Ky
                    public void A00(View view) {
                        Conversation conversation = Conversation.this;
                        Intent intent = new Intent(conversation, GroupAdminPickerActivity.class);
                        intent.putExtra("gid", C003101m.A07(conversation.A2D.A02()));
                        conversation.startActivityForResult(intent, 42);
                        conversation.overridePendingTransition(0, 0);
                    }
                });
            } else {
                this.A0E.setVisibility(this.A0e != null ? 8 : 0);
                this.A0b.setVisibility(8);
            }
        }
        if (this.A0E.getVisibility() == 8) {
            this.A2f.A01();
            A2U();
        }
        A1z();
    }

    public final void A1o() {
        C58342qz c58342qz = this.A1S;
        int i = this.A05;
        int i2 = this.A06;
        int i3 = this.A07;
        c58342qz.A02 = i;
        c58342qz.A03 = i2;
        c58342qz.A04 = i3;
    }

    public final void A1p() {
        A54.remove(this.A2D.A03(AbstractC005302j.class));
        C73453bf c73453bf = this.A3m;
        if (c73453bf != null) {
            c73453bf.A0U = null;
        }
    }

    public final void A1q() {
        AbstractC48182Ef A1d;
        if (((AbstractActivityC04650Lh) this).A00 == null || ((AbstractActivityC04650Lh) this).A0G == null || this.A34 != null || A1e() == null) {
            return;
        }
        C59232sQ c59232sQ = ((AbstractActivityC04650Lh) this).A0G;
        if (c59232sQ.size() == 1 && C0DB.A0M(((AbstractActivityC04650Lh) this).A06, this.A25, c59232sQ.values().iterator().next()) && (A1d = A1d(A1e().A0n)) != null) {
            A1d.A04();
            this.A0n.A07(R.string.swipe_to_reply_education, 1);
            A1V();
        }
    }

    public final void A1r() {
        this.A07 = 0;
        this.A05 = 0;
        this.A06 = 0;
        A1o();
    }

    public final void A1s() {
        if (this.A46) {
            this.A48 = false;
            this.A4J = false;
        }
        this.A45 = true;
        this.A0X.post(new Runnable() { // from class: X.1G7
            {
                Conversation.this = this;
            }

            @Override // java.lang.Runnable
            public final void run() {
                Conversation conversation = Conversation.this;
                conversation.A0X.setTranscriptMode(2);
                conversation.A1m();
            }
        });
    }

    public final void A1t() {
        int A01 = this.A1S.A01();
        int A1Y = A1Y();
        this.A1S.A01();
        A28(this.A0X.getHeaderViewsCount() + A01, A1Y);
        this.A48 = false;
        this.A46 = false;
    }

    public final void A1u() {
        ArrayList arrayList = this.A4u;
        if (!arrayList.isEmpty()) {
            this.A1S.A0Q.clear();
            int firstVisiblePosition = this.A0X.getFirstVisiblePosition();
            AnonymousClass092 item = this.A1S.getItem(firstVisiblePosition);
            if (item != null && (item.A0n.A00 != null || (item = this.A1S.getItem(firstVisiblePosition + 1)) != null)) {
                Iterator it = arrayList.iterator();
                while (it.hasNext()) {
                    AnonymousClass092 anonymousClass092 = (AnonymousClass092) it.next();
                    if (anonymousClass092.A0p > item.A0p) {
                        this.A1S.A0Q.add(anonymousClass092.A0n);
                    }
                }
            }
            A2M((AnonymousClass092) arrayList.get(0), getResources().getDimensionPixelSize(R.dimen.conversation_row_min_height));
        }
    }

    public final void A1v() {
        A58.set(new C0OU(this, true, this.A0v));
    }

    public final void A1w() {
        this.A2f.setHint(getString(R.string.type_a_message));
    }

    public final void A1x() {
        AtomicReference atomicReference = A58;
        C0OU c0ou = (C0OU) atomicReference.get();
        if (c0ou != null) {
            if (c0ou.A00 == this) {
                atomicReference.compareAndSet(c0ou, new C0OU(this, false, this.A0v));
                return;
            }
            return;
        }
        throw null;
    }

    /* JADX WARN: Code restructure failed: missing block: B:298:0x00f8, code lost:
        if (r9 == false) goto L47;
     */
    /* JADX WARN: Code restructure failed: missing block: B:303:0x0110, code lost:
        if (r10.A08.A00.getInt("privacy_groupadd", 0) != 0) goto L46;
     */
    /* JADX WARN: Code restructure failed: missing block: B:335:0x018e, code lost:
        if (r1.A07 != 1) goto L111;
     */
    /* JADX WARN: Code restructure failed: missing block: B:402:0x0357, code lost:
        if (r3 == false) goto L153;
     */
    /* JADX WARN: Code restructure failed: missing block: B:415:0x0371, code lost:
        if (r8 == false) goto L202;
     */
    /* JADX WARN: Code restructure failed: missing block: B:441:0x03c9, code lost:
        if (r3 == false) goto L153;
     */
    /* JADX WARN: Code restructure failed: missing block: B:445:0x03d2, code lost:
        if (r1 != false) goto L176;
     */
    /* JADX WARN: Code restructure failed: missing block: B:460:0x0409, code lost:
        if (r13.getLong("tb_last_shown_ts") >= r13.getLong("tb_last_action_ts")) goto L192;
     */
    /* JADX WARN: Removed duplicated region for block: B:378:0x02cc  */
    /* JADX WARN: Removed duplicated region for block: B:393:0x031f  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public final void A1y() {
        /*
            Method dump skipped, instructions count: 1079
            To view this dump change 'Code comments level' option to 'DEBUG'
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.A1y():void");
    }

    public final void A1z() {
        C2J9 c2j9 = (C2J9) this.A1R.A00.get(C3JL.class);
        if (c2j9 != null) {
            C3JL c3jl = (C3JL) c2j9;
            c3jl.A00 = this.A2D;
            if (c3jl.A03()) {
                if (c3jl.A04()) {
                    c3jl.A06();
                    return;
                } else {
                    c3jl.A00();
                    return;
                }
            } else if (!c3jl.A04()) {
                return;
            } else {
                c3jl.A02(false);
                return;
            }
        }
        throw null;
    }

    public final void A20() {
        C54452il c54452il = (C54452il) ((C2J9) this.A1R.A00.get(C54452il.class));
        if (c54452il != null) {
            C06C c06c = this.A2D;
            c54452il.A01 = c06c;
            C451820s c451820s = c54452il.A07;
            Jid A03 = c06c.A03(UserJid.class);
            if (A03 != null) {
                if (c451820s.A03((UserJid) A03)) {
                    c54452il.A0A.ARy(new C0HS(c06c, c451820s, c54452il) { // from class: X.37b
                        public final C451820s A00;
                        public final C06C A01;
                        public final WeakReference A02;

                        {
                            this.A01 = c06c;
                            this.A00 = c451820s;
                            this.A02 = new WeakReference(c54452il);
                        }

                        @Override // X.C0HS
                        public Object A07(Object[] objArr) {
                            C451820s c451820s2 = this.A00;
                            Jid A032 = this.A01.A03(UserJid.class);
                            if (A032 != null) {
                                return c451820s2.A01((UserJid) A032);
                            }
                            throw null;
                        }

                        @Override // X.C0HS
                        public void A09(Object obj) {
                            UserJid userJid;
                            C54452il c54452il2;
                            C04370Jx c04370Jx = (C04370Jx) obj;
                            UserJid userJid2 = null;
                            if (c04370Jx != null) {
                                UserJid userJid3 = c04370Jx.A00;
                                userJid = c04370Jx.A01;
                                if (userJid3 != null && userJid != null) {
                                    userJid2 = userJid3;
                                    c54452il2 = (C54452il) this.A02.get();
                                    if (c54452il2 == null && userJid2 != null && userJid != null) {
                                        c54452il2.A02 = userJid2;
                                        c54452il2.A03 = userJid;
                                        if (c54452il2.A03()) {
                                            if (c54452il2.A04()) {
                                                c54452il2.A05();
                                                return;
                                            } else {
                                                c54452il2.A04.postDelayed(new RunnableEBaseShape8S0100000_I1_0(c54452il2, 19), 500L);
                                                return;
                                            }
                                        } else if (!c54452il2.A04()) {
                                            return;
                                        } else {
                                            c54452il2.A02(true);
                                            return;
                                        }
                                    }
                                    return;
                                }
                                Log.e("ChangeNumberNotificationBanner/GetChangeNumberMessageTask trying to show change number message for non-user jids");
                            }
                            userJid = null;
                            c54452il2 = (C54452il) this.A02.get();
                            if (c54452il2 == null) {
                            }
                        }
                    }, new Void[0]);
                    return;
                } else if (!c54452il.A04()) {
                    return;
                } else {
                    c54452il.A02(true);
                    return;
                }
            }
            throw null;
        }
    }

    public /* synthetic */ void A21() {
        C73453bf c73453bf = this.A3m;
        if (c73453bf != null) {
            c73453bf.A0K(false);
        }
    }

    public /* synthetic */ void A22() {
        if (this.A45) {
            this.A0X.setTranscriptMode(2);
        }
        if (this.A2O.A01()) {
            this.A2O.A00(true);
        }
        A1q();
    }

    public /* synthetic */ void A23() {
        for (int i = 0; i < this.A0X.getChildCount(); i++) {
            View childAt = this.A0X.getChildAt(i);
            if (childAt instanceof C51532Wv) {
                ((AbstractC48182Ef) childAt).A0O();
            }
        }
    }

    public /* synthetic */ void A24() {
        for (int i = 0; i < this.A0X.getChildCount(); i++) {
            View childAt = this.A0X.getChildAt(i);
            if ((childAt instanceof C51552Wx) || (childAt instanceof C51532Wv)) {
                ((AbstractC48182Ef) childAt).A0O();
            }
        }
    }

    public /* synthetic */ void A25() {
        for (int i = 0; i < this.A0X.getChildCount(); i++) {
            View childAt = this.A0X.getChildAt(i);
            if (childAt instanceof C51422Wj) {
                ((AbstractC48182Ef) childAt).A0O();
            }
        }
    }

    public final void A26(int i) {
        A29(new C0We(this.A1s, C02160Ac.A03(this, i)));
    }

    public final void A27(int i, int i2) {
        if (this.A0X.getFirstVisiblePosition() >= i || this.A0X.getLastVisiblePosition() <= i) {
            int i3 = this.A0X.getFirstVisiblePosition() < i ? 1 : -1;
            this.A0X.setTranscriptMode(0);
            this.A0X.setSelectionFromTop(i, ((this.A0X.getHeight() * i3) >> 2) + i2);
            this.A0X.smoothScrollToPositionFromTop(i, i2);
            this.A0H.setVisibility(0);
        }
    }

    public final void A28(int i, int i2) {
        this.A0X.setTranscriptMode(0);
        this.A0X.setSelectionFromTop(i, i2);
    }

    public final void A29(Drawable drawable) {
        int paddingLeft = this.A0F.getPaddingLeft();
        int paddingRight = this.A0F.getPaddingRight();
        this.A0F.setBackground(drawable);
        this.A0F.setPadding(paddingLeft, 0, paddingRight, 0);
    }

    public final void A2A(ViewGroup viewGroup, View view) {
        A26(A1a(1));
        boolean A2R = A2R();
        this.A08 = -1;
        this.A0o.setClipChildren(false);
        int transcriptMode = this.A0X.getTranscriptMode();
        final int height = viewGroup.getHeight();
        TranslateAnimation translateAnimation = new TranslateAnimation(0.0f, 0.0f, 0.0f, height);
        translateAnimation.setDuration(250L);
        view.startAnimation(translateAnimation);
        if (viewGroup == this.A0P && this.A0O.getVisibility() == 0) {
            this.A0O.startAnimation(translateAnimation);
        }
        if (this.A2f.A0I) {
            this.A0R.startAnimation(translateAnimation);
        }
        if (A2R) {
            this.A0X.setTranscriptMode(2);
            this.A0X.startAnimation(translateAnimation);
        }
        Drawable background = this.A0F.getBackground();
        if (!(background instanceof C60622um)) {
            A29(new C60622um(background));
        }
        Animation animation = new Animation() { // from class: X.1KD
            @Override // android.view.animation.Animation
            public boolean willChangeBounds() {
                return false;
            }

            {
                Conversation.this = this;
            }

            @Override // android.view.animation.Animation
            public void applyTransformation(float f, Transformation transformation) {
                int i = (int) (height * f);
                Drawable background2 = Conversation.this.A0F.getBackground();
                if (background2 instanceof C60622um) {
                    ((C60622um) background2).A00(i);
                }
            }
        };
        animation.setDuration(250L);
        this.A0F.startAnimation(animation);
        animation.setAnimationListener(new C34931iK(this, viewGroup, view, A2R, transcriptMode));
    }

    public final void A2B(ViewGroup viewGroup, View view) {
        boolean A2R = A2R();
        this.A08 = 1;
        this.A0o.setClipChildren(false);
        int transcriptMode = this.A0X.getTranscriptMode();
        ListView listView = this.A0X;
        if (A2R) {
            listView.setTranscriptMode(2);
        } else {
            listView.setTranscriptMode(0);
        }
        A26(A1a(0));
        viewGroup.setVisibility(0);
        viewGroup.getViewTreeObserver().addOnGlobalLayoutListener(new C1KC(this, viewGroup, A2R, view, transcriptMode));
    }

    public final void A2C(C05920Qu c05920Qu) {
        if (C002701i.A1P(this)) {
            return;
        }
        if (c05920Qu != null) {
            if (TextUtils.equals(this.A40, c05920Qu.A0G)) {
                if (c05920Qu.A0C()) {
                    this.A1h.A00 = c05920Qu;
                    Log.i("conversation/showlinkpreview");
                    if (this.A1Z == null) {
                        WebPagePreviewView webPagePreviewView = new WebPagePreviewView(this);
                        this.A1Z = webPagePreviewView;
                        this.A0P.addView(webPagePreviewView);
                        C0LX.A06(this.A1s, this.A1Z.findViewById(R.id.title), 0, getResources().getDimensionPixelSize(R.dimen.conversation_title_padding));
                        this.A1Z.setProgressBarVisibility(false);
                        View findViewById = this.A1Z.findViewById(R.id.cancel);
                        findViewById.setVisibility(0);
                        findViewById.setOnClickListener(new AbstractView$OnClickListenerC49532Ky() { // from class: X.1iG
                            {
                                Conversation.this = this;
                            }

                            @Override // X.AbstractView$OnClickListenerC49532Ky
                            public void A00(View view) {
                                Conversation conversation = Conversation.this;
                                conversation.A3z = conversation.A40;
                                conversation.A1h.A00 = null;
                                conversation.A1k();
                            }
                        });
                        this.A1Z.findViewById(R.id.link_preview_content).setOnClickListener(new C34911iI(this, this.A1Z.findViewById(R.id.thumb)));
                    }
                    if (this.A0P.getVisibility() != 0 || this.A08 < 0) {
                        Log.i("conversation/showlinkpreview/start");
                        A2B(this.A0P, this.A1Z);
                    }
                    this.A1Z.A01(c05920Qu, null);
                    C73453bf c73453bf = this.A3m;
                    if (c73453bf != null) {
                        C05920Qu c05920Qu2 = this.A1h.A00;
                        if (c05920Qu2 instanceof C38D) {
                            c73453bf.A0U = (C38D) c05920Qu2;
                            return;
                        }
                        return;
                    }
                    return;
                }
                this.A1h.A00 = null;
                A1k();
                return;
            }
            return;
        }
        this.A1h.A00 = null;
        A1k();
    }

    public final void A2D(C58352r0 c58352r0) {
        C468628o c468628o = c58352r0.A05;
        AnonymousClass092 anonymousClass092 = (AnonymousClass092) A57.get(this.A2a);
        if (c468628o != null) {
            C09H c09h = new C09H();
            File file = c58352r0.A0A;
            c09h.A0F = file;
            byte[] bArr = null;
            try {
                Bitmap A0Z = this.A3a.A0Z(Uri.fromFile(file), 100, 100);
                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
                A0Z.compress(Bitmap.CompressFormat.JPEG, 80, byteArrayOutputStream);
                bArr = byteArrayOutputStream.toByteArray();
                A0Z.recycle();
                StringBuilder sb = new StringBuilder();
                sb.append("product_inquiry:");
                sb.append(c468628o.A09);
                String obj = sb.toString();
                C05U c05u = this.A36;
                UserJid userJid = c58352r0.A09;
                C04160Iu c04160Iu = (C04160Iu) c05u.A02(new AnonymousClass094(userJid, false, obj), this.A1n.A05(), (byte) 23);
                ((AnonymousClass097) c04160Iu).A02 = c09h;
                c04160Iu.A0E().A03(bArr);
                c04160Iu.A1M(c468628o);
                if (userJid != null) {
                    c04160Iu.A01 = userJid;
                }
                A2O(c04160Iu, true);
            } catch (Exception e) {
                Log.e("create-product-reply/", e);
            }
            if (bArr == null) {
                Log.i("create-product-reply/creating product reply without media");
                C05U c05u2 = this.A36;
                C05V c05v = this.A35;
                AnonymousClass092 A02 = c05u2.A02(C05V.A00(c05v.A01, c05v.A00, c58352r0.A09, false), this.A1n.A05(), (byte) 0);
                StringBuilder sb2 = new StringBuilder("*");
                sb2.append(c468628o.A0B);
                String obj2 = sb2.toString();
                String str = c468628o.A06;
                if (!AnonymousClass024.A0j(str)) {
                    StringBuilder A0V = C000200d.A0V(obj2, "*\n");
                    A0V.append(str);
                    obj2 = A0V.toString();
                }
                A02.A0l(obj2);
                A2O(A02, true);
            }
        } else if (anonymousClass092 != null) {
            AnonymousClass092 A0C = this.A20.A0C(anonymousClass092.A0p);
            if (A0C != null) {
                anonymousClass092 = A0C;
            }
            A2O(anonymousClass092, true);
        } else {
            C011005l c011005l = c58352r0.A08;
            if (c011005l != null) {
                AnonymousClass092 A00 = C05U.A00(c011005l, this.A1n.A05());
                A00.A0l("");
                A2O(A00, true);
            }
        }
    }

    public final void A2E(C58352r0 c58352r0) {
        C2GQ c3jg;
        Application.ActivityLifecycleCallbacks c3jf;
        Conversation conversation;
        C0I1 c0i1;
        C2JV c2jv;
        Class<AbstractC005302j> cls;
        C0HC c0hc = new C0HC("conversation/createconversation");
        A1v();
        C58342qz c58342qz = new C58342qz(this, ((AbstractActivityC04650Lh) this).A0D, this.A1n, this.A36, this.A20, this.A2h);
        this.A1S = c58342qz;
        c58342qz.A09 = this.A2a;
        c58342qz.registerDataSetObserver(this.A4P);
        MentionableEntry mentionableEntry = (MentionableEntry) findViewById(R.id.entry);
        this.A2f = mentionableEntry;
        final C26761Ko c26761Ko = new C26761Ko();
        mentionableEntry.setOnCommitContentListener(new C31S() { // from class: X.1hF
            {
                Conversation.this = this;
            }

            @Override // X.C31S
            public final boolean onCommitContent(InputContentInfoCompat inputContentInfoCompat, int i, Bundle bundle) {
                return Conversation.this.A2a(c26761Ko, inputContentInfoCompat, i);
            }
        });
        A26(R.drawable.ib_new_round);
        if (this.A4D) {
            FrameLayout frameLayout = (FrameLayout) findViewById(R.id.mention_attach);
            this.A0R = frameLayout;
            MentionableEntry mentionableEntry2 = this.A2f;
            mentionableEntry2.setMentionPickerVisibilityChangeListener(new C2LT() { // from class: X.1hA
                {
                    Conversation.this = this;
                }

                @Override // X.C2LT
                public final void AII(boolean z) {
                    Conversation conversation2 = Conversation.this;
                    int i = R.drawable.ib_new_expanded_bottom;
                    if (!z) {
                        i = conversation2.A1a(2);
                    }
                    conversation2.A26(i);
                }
            });
            mentionableEntry2.A0C(frameLayout, C011005l.A03(this.A2a), false, false, true);
        }
        A1w();
        this.A2f.setFilters(new InputFilter[]{new InputFilter(this.A3m) { // from class: X.1KM
            public final WeakReference A00;

            {
                this.A00 = new WeakReference(r2);
            }

            @Override // android.text.InputFilter
            public CharSequence filter(CharSequence charSequence, int i, int i2, Spanned spanned, int i3, int i4) {
                C73453bf c73453bf = (C73453bf) this.A00.get();
                if (c73453bf == null || !c73453bf.A0S()) {
                    return null;
                }
                return "";
            }
        }});
        this.A2f.A05 = findViewById(R.id.input_layout);
        FrameLayout frameLayout2 = (FrameLayout) findViewById(R.id.quick_reply_attach);
        this.A0S = frameLayout2;
        frameLayout2.setVisibility(8);
        this.A0X.setAdapter((ListAdapter) this.A1S);
        if (c58352r0.A0Q) {
            this.A2m.A05(this.A2a);
            this.A4L = true;
        } else {
            this.A2m.A0C(true);
        }
        if (c58352r0.A0P) {
            this.A2n.A02();
        }
        this.A4M = false;
        if (!this.A4F) {
            ((AbstractActivityC04650Lh) this).A0O.A01(this.A4i);
            this.A4F = true;
        }
        if (c58352r0.A0S && !this.A42 && c58352r0.A0M) {
            A57.remove(this.A2a);
            this.A4I = true;
            boolean A05 = ((ActivityC02270An) this).A0E.A05();
            ArrayList arrayList = c58352r0.A0J;
            if (arrayList == null) {
                byte b = c58352r0.A00;
                if (b == 4) {
                    if (A05) {
                        C018608r c018608r = this.A10;
                        AbstractC005302j abstractC005302j = this.A2a;
                        String str = c58352r0.A0H;
                        String A00 = C43291xA.A00(this.A1o, ((AbstractActivityC04650Lh) this).A06, this.A1s, this.A0j, this.A17, c58352r0.A0I);
                        boolean z = this.A4A;
                        if (c018608r != null) {
                            c018608r.A0f(Collections.singletonList(abstractC005302j), str, A00, null, z);
                        } else {
                            throw null;
                        }
                    }
                } else if (b != 14) {
                    String str2 = c58352r0.A0F;
                    if (str2 != null && str2.length() > 0) {
                        if (c58352r0.A0N || !A05) {
                            A56.put(this.A2D.A03(AbstractC005302j.class), str2);
                        } else {
                            this.A10.A0d(Collections.singletonList(this.A2D.A03(AbstractC005302j.class)), str2, C1Lh.A00(C04310Jr.A01(str2)), null, null, this.A4A, this.A4B);
                            this.A4B = false;
                        }
                    } else if (this.A0x.A0E(C01C.A0b)) {
                        String str3 = c58352r0.A0B;
                        if (!TextUtils.isEmpty(str3)) {
                            String str4 = c58352r0.A0C;
                            if (!TextUtils.isEmpty(str4)) {
                                String str5 = c58352r0.A0E;
                                if (str5 == null || TextUtils.isEmpty(str5)) {
                                    cls = AbstractC005302j.class;
                                    A56.remove(this.A2D.A03(cls));
                                } else {
                                    cls = AbstractC005302j.class;
                                    A56.put(this.A2D.A03(cls), str5);
                                }
                                A54.put(this.A2D.A03(cls), new C2JV(this.A2a.getRawString(), str3, str4));
                            }
                        }
                    }
                } else if (A05) {
                    C018608r c018608r2 = this.A10;
                    AbstractC005302j abstractC005302j2 = this.A2a;
                    ArrayList arrayList2 = c58352r0.A0K;
                    boolean z2 = this.A4A;
                    if (c018608r2 != null) {
                        c018608r2.A0h(Collections.singletonList(abstractC005302j2), arrayList2, null, z2);
                    } else {
                        throw null;
                    }
                }
            } else if (A05) {
                this.A0w.A09(false, Collections.singletonList(this.A2a), arrayList, c58352r0.A0D, c58352r0.A01, c58352r0.A0O, this, this, new InterfaceC05830Qk() { // from class: X.1iW
                    @Override // X.InterfaceC05830Qk
                    public void AKC() {
                    }

                    @Override // X.InterfaceC05830Qk
                    public void AQB(Uri uri) {
                    }

                    @Override // X.InterfaceC05830Qk
                    public void AQC(Uri uri) {
                    }
                });
            }
        }
        String str6 = (String) A56.get(this.A2D.A03(AbstractC005302j.class));
        if (!TextUtils.isEmpty(str6)) {
            this.A2f.setMentionableText(str6, AnonymousClass029.A0y((String) A55.get(this.A2D.A03(AbstractC005302j.class))));
            AnonymousClass029.A17(this, this.A2G, this.A1l, this.A31, this.A2f.getEditableText(), this.A2f.getPaint());
            String A01 = C04310Jr.A01(str6);
            this.A40 = A01;
            C2JU c2ju = this.A1h;
            C2N3 A1c = A1c();
            if (c2ju == null) {
                throw null;
            }
            if (A01 != null) {
                if (c2ju.A06(A01)) {
                    UserJid A02 = C0ED.A02(Uri.parse(A01));
                    if (A02 != null) {
                        c2ju.A04(A02, A01, A1c);
                    } else {
                        c2ju.A05(A01);
                    }
                } else {
                    c2ju.A05(A01);
                }
            }
        } else {
            this.A2f.setText((String) null);
            A1h();
        }
        if (AnonymousClass024.A0j(str6)) {
            this.A0W.setVisibility(0);
            this.A0T.setVisibility(0);
            this.A0V.setVisibility(8);
        } else {
            this.A0W.setVisibility(8);
            this.A0T.setVisibility(8);
            this.A0V.setVisibility(0);
        }
        if (this.A0x.A0E(C01C.A0b) && (c2jv = (C2JV) A54.get(this.A2D.A03(AbstractC005302j.class))) != null) {
            this.A40 = c2jv.A02;
            C2JU c2ju2 = this.A1h;
            if (c2ju2 != null) {
                C38D c38d = new C38D(c2jv);
                c2ju2.A00 = c38d;
                c2ju2.A01.A0B(c38d);
                c2ju2.A0E.AS1(new RunnableEBaseShape1S0200000_I0_1(c2ju2, c2jv, 21));
            } else {
                throw null;
            }
        }
        C1M7 c1m7 = new C1M7(this);
        if (this.A4D) {
            C011005l A03 = C011005l.A03(this.A2a);
            if (A03 != null) {
                C018508q c018508q = this.A0n;
                InterfaceC002901k interfaceC002901k = this.A3e;
                C40081rY c40081rY = this.A2G;
                C01B c01b = this.A0x;
                C0L7 c0l7 = this.A1K;
                C06040Rh c06040Rh = this.A0g;
                C018708s c018708s = this.A1N;
                C002301c c002301c = this.A1s;
                AnonymousClass008 anonymousClass008 = this.A1L;
                C2AR c2ar = this.A3G;
                C03320Ff c03320Ff = this.A1I;
                C06M c06m = this.A18;
                C456823b c456823b = this.A2X;
                C0C8 c0c8 = this.A25;
                C0LF c0lf = this.A1O;
                C0DK c0dk = this.A1y;
                C03360Fk c03360Fk = this.A2Y;
                C06C c06c = this.A2D;
                c3jg = new C3JK(this, c018508q, interfaceC002901k, c40081rY, c01b, c0l7, c06040Rh, c018708s, c002301c, c1m7, anonymousClass008, c2ar, c03320Ff, c06m, c456823b, c0c8, c0lf, c0dk, c03360Fk, A03, c06c);
                this.A1V = c3jg;
                conversation = this;
                c3jf = new C3JJ(conversation, this, this, c018508q, this.A0q, interfaceC002901k, this.A1x, this.A3J, c01b, this.A10, this.A3q, ((AbstractActivityC04650Lh) this).A06, c018708s, c002301c, this.A32, c1m7, this.A2K, anonymousClass008, c2ar, this.A3B, this.A1j, this.A13, c03320Ff, this.A2B, this.A2A, ((AbstractActivityC04650Lh) this).A0K, this.A1X, this.A2E, this.A3Z, c0c8, c0dk, c03360Fk, A03, c06c);
            } else {
                throw null;
            }
        } else if (this.A4E) {
            AbstractC005302j abstractC005302j3 = this.A2a;
            if ((abstractC005302j3 instanceof C0I1) && (c0i1 = (C0I1) abstractC005302j3) != null) {
                C018508q c018508q2 = this.A0n;
                InterfaceC002901k interfaceC002901k2 = this.A3e;
                C40081rY c40081rY2 = this.A2G;
                C0L7 c0l72 = this.A1K;
                C06040Rh c06040Rh2 = this.A0g;
                C018708s c018708s2 = this.A1N;
                C002301c c002301c2 = this.A1s;
                AnonymousClass008 anonymousClass0082 = this.A1L;
                C2AR c2ar2 = this.A3G;
                C03320Ff c03320Ff2 = this.A1I;
                C06M c06m2 = this.A18;
                C0LF c0lf2 = this.A1O;
                C0DK c0dk2 = this.A1y;
                C03360Fk c03360Fk2 = this.A2Y;
                C06C c06c2 = this.A2D;
                conversation = this;
                c3jg = new C3JN(conversation, c018508q2, interfaceC002901k2, c40081rY2, c0l72, c06040Rh2, c018708s2, c002301c2, c1m7, anonymousClass0082, c2ar2, c03320Ff2, c06m2, c0lf2, c0dk2, c03360Fk2, c0i1, c06c2);
                this.A1V = c3jg;
                c3jf = new C2JA(conversation, this, this, c018508q2, this.A0q, interfaceC002901k2, this.A1x, this.A3J, this.A0x, this.A10, this.A3q, c002301c2, c1m7, this.A2K, anonymousClass0082, c2ar2, this.A3B, this.A1j, this.A13, c03320Ff2, ((AbstractActivityC04650Lh) this).A0K, this.A1X, this.A2E, this.A3Z, c0dk2, c03360Fk2, c0i1, c06c2) { // from class: X.3JM
                    @Override // X.InterfaceC06230Sb
                    public void AJ9(Menu menu) {
                        Log.i("listconversationmenu/oncreateoptionsmenu");
                        C2JA.A00(menu, 21, R.string.list_info);
                        C2JA.A00(menu, 6, R.string.view_list_media);
                        C2JA.A00(menu, 7, R.string.search);
                        C2JA.A00(menu, 5, R.string.wallpaper);
                        SubMenu addSubMenu = menu.addSubMenu(0, 1, 0, R.string.more);
                        addSubMenu.clearHeader();
                        C2JA.A00(addSubMenu, 8, R.string.clear_chat);
                        A02(addSubMenu);
                        C2JA.A00(addSubMenu, 2, R.string.add_shortcut_short);
                    }

                    @Override // X.C2JA, X.InterfaceC06230Sb
                    public boolean AMZ(MenuItem menuItem) {
                        int itemId = menuItem.getItemId();
                        if (itemId != 21) {
                            if (itemId != 22) {
                                return super.AMZ(menuItem);
                            }
                            return true;
                        }
                        C06C c06c3 = this.A00;
                        ActivityC02320As activityC02320As = this.A02;
                        ListChatInfo.A01(c06c3, activityC02320As, C2HC.A04(activityC02320As, activityC02320As.findViewById(R.id.transition_start), this.A09.A00(R.string.transition_photo)));
                        return true;
                    }

                    @Override // X.C2JA, X.InterfaceC06230Sb
                    public boolean ANF(Menu menu) {
                        StringBuilder A0P = C000200d.A0P("listconversationmenu/onprepareoptionsmenu ");
                        A0P.append(menu.size());
                        Log.i(A0P.toString());
                        if (menu.size() == 0) {
                            return false;
                        }
                        super.ANF(menu);
                        return true;
                    }
                };
            } else {
                throw null;
            }
        } else {
            C018508q c018508q3 = this.A0n;
            InterfaceC002901k interfaceC002901k3 = this.A3e;
            C05M c05m = this.A1x;
            C40081rY c40081rY3 = this.A2G;
            C01B c01b2 = this.A0x;
            C0L7 c0l73 = this.A1K;
            C06040Rh c06040Rh3 = this.A0g;
            C018708s c018708s3 = this.A1N;
            C002301c c002301c3 = this.A1s;
            AnonymousClass008 anonymousClass0083 = this.A1L;
            C2AR c2ar3 = this.A3G;
            C03320Ff c03320Ff3 = this.A1I;
            C06M c06m3 = this.A18;
            C0LF c0lf3 = this.A1O;
            C0DK c0dk3 = this.A1y;
            C03360Fk c03360Fk3 = this.A2Y;
            AbstractC005302j abstractC005302j4 = this.A2a;
            if (abstractC005302j4 != null) {
                C06C c06c3 = this.A2D;
                c3jg = new C3JG(this, c018508q3, interfaceC002901k3, c05m, c40081rY3, c01b2, c0l73, c06040Rh3, c018708s3, c002301c3, c1m7, anonymousClass0083, c2ar3, c03320Ff3, c06m3, c0lf3, c0dk3, c03360Fk3, abstractC005302j4, c06c3);
                this.A1V = c3jg;
                conversation = this;
                c3jf = new C3JF(conversation, this, this, c018508q3, this.A0q, interfaceC002901k3, c05m, this.A3J, this.A2M, c01b2, this.A10, this.A0p, this.A0f, this.A3q, c018708s3, c002301c3, this.A3r, c1m7, this.A2K, anonymousClass0083, this.A1H, c2ar3, this.A3B, this.A1j, this.A13, c03320Ff3, this.A2A, this.A1M, ((AbstractActivityC04650Lh) this).A0K, this.A16, this.A1X, this.A17, this.A1A, this.A2E, this.A3Z, c0dk3, c03360Fk3, abstractC005302j4, c06c3);
            } else {
                throw null;
            }
        }
        Set set = this.A4w;
        set.add(c3jg);
        set.add(c3jf);
        this.A4x.add(c3jf);
        this.A2f.requestFocus();
        if (C0L6.A02()) {
            this.A0D.setVisibility(0);
            this.A0Y.setText("");
        } else {
            this.A0D.setVisibility(8);
        }
        ArrayList arrayList3 = new ArrayList();
        C3JO c3jo = new C3JO(conversation, this.A1n, this.A0z, super.A0d, this.A1l, this.A0N, this.A2k, ((AbstractActivityC04650Lh) this).A0K);
        this.A1S.A0E.add(c3jo);
        arrayList3.add(c3jo);
        arrayList3.add(new C3JL(conversation, super.A0d, this.A1x, this.A2G, this.A0x, this.A1l, this.A31, this.A2D, this.A0N, this.A4D));
        UserJid of = UserJid.of(this.A2a);
        if (of != null) {
            arrayList3.add(new C54452il(conversation, this.A3e, ((AbstractActivityC04650Lh) this).A06, this.A1N, this.A2l, this.A1u, of, this.A2D, this.A0o, this.A4D, this.A4E));
        }
        this.A1R = new C58322qx(arrayList3);
        A20();
        this.A1S.A0E.add(this.A2v);
        c0hc.A01();
    }

    public final void A2F(C06C c06c, AbstractC005302j abstractC005302j, boolean z) {
        try {
            startActivityForResult(this.A3W.A01(c06c, abstractC005302j, z), 13);
            this.A3V.A02(z, 5);
        } catch (ActivityNotFoundException unused) {
            C002701i.A19(this, 12);
        }
    }

    public void A2G(final C06C c06c, final boolean z) {
        if (!this.A4D || !AnonymousClass029.A1P(this.A0x, ((AbstractActivityC04650Lh) this).A0K)) {
            A2I(c06c, z);
            return;
        }
        AUh(JoinableEducationDialogFragment.A00(!z, new DialogInterface.OnDismissListener() { // from class: X.1G1
            {
                Conversation.this = this;
            }

            @Override // android.content.DialogInterface.OnDismissListener
            public final void onDismiss(DialogInterface dialogInterface) {
                Conversation.this.A2I(c06c, z);
            }
        }));
        ((AbstractActivityC04650Lh) this).A0K.A0N();
    }

    public void A2H(C06C c06c, boolean z) {
        if (!c06c.A0C()) {
            this.A3o.A00(c06c, this, 8, true, z);
            return;
        }
        Jid A03 = c06c.A03(C011005l.class);
        if (A03 != null) {
            GroupJid groupJid = (GroupJid) A03;
            ArrayList arrayList = new ArrayList(this.A25.A01(groupJid).A04().A02());
            C02L c02l = this.A0q;
            c02l.A05();
            arrayList.remove(c02l.A03);
            ArrayList arrayList2 = new ArrayList();
            Iterator it = arrayList.iterator();
            while (it.hasNext()) {
                arrayList2.add(((AbstractActivityC04650Lh) this).A06.A0A((AbstractC005302j) it.next()));
            }
            this.A3o.A02(arrayList2, this, 25, true, z, groupJid);
            return;
        }
        throw null;
    }

    public void A2I(C06C c06c, boolean z) {
        if (((AbstractActivityC04650Lh) this).A0K.A00.getInt("call_confirmation_dialog_count", 0) >= 5) {
            A2H(c06c, z);
            return;
        }
        CallConfirmationFragment callConfirmationFragment = new CallConfirmationFragment();
        Bundle bundle = new Bundle();
        bundle.putString("jid", C003101m.A07(this.A2D.A03(AbstractC005302j.class)));
        bundle.putBoolean("is_video_call", z);
        callConfirmationFragment.A0P(bundle);
        AUh(callConfirmationFragment);
    }

    public final void A2J(C49302Jn c49302Jn) {
        Intent putExtra;
        if (this.A1H.A0H((UserJid) this.A2D.A03(UserJid.class))) {
            C002701i.A19(this, 106);
            return;
        }
        ArrayList arrayList = new ArrayList();
        arrayList.add(this.A2a);
        C61422w7 c61422w7 = c49302Jn.A01;
        int i = c61422w7.A01;
        if (i <= 0) {
            i = c49302Jn.A02.A01;
        }
        int i2 = c61422w7.A00;
        if (i2 <= 0) {
            i2 = c49302Jn.A02.A00;
        }
        String A0t = C002701i.A0t(this.A2f.getStringText());
        if (c49302Jn.A05) {
            String str = c61422w7.A02;
            int i3 = c49302Jn.A00;
            putExtra = new Intent(this, GifVideoPreviewActivity.class).putExtra("file_path", str).putExtra("jids", C003101m.A0E(arrayList)).putExtra("send", false).putExtra("provider", i3).putExtra("number_from_url", this.A4A).putExtra("origin", 22).putExtra("media_width", i).putExtra("media_height", i2).putExtra("jid", C003101m.A07(this.A2a)).putExtra("caption", A0t).putExtra("mentions", C003101m.A0E(this.A2f.getMentions())).putExtra("clear_message_after_send", !TextUtils.isEmpty(A0t));
        } else {
            putExtra = GifVideoPreviewActivity.A00(this, arrayList, c49302Jn.A02.A02, c61422w7.A02, c49302Jn.A03.A02, c49302Jn.A00, this.A4A, false, 22).putExtra("media_width", i).putExtra("media_height", i2).putExtra("jid", C003101m.A07(this.A2a)).putExtra("caption", A0t).putExtra("mentions", C003101m.A0E(this.A2f.getMentions())).putExtra("clear_message_after_send", !TextUtils.isEmpty(A0t));
        }
        startActivityForResult(putExtra, 25);
    }

    /* JADX WARN: Code restructure failed: missing block: B:25:0x0019, code lost:
        if (((X.C0LW) r1).A00 == false) goto L17;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public void A2K(com.whatsapp.jid.UserJid r6) {
        /*
            r5 = this;
            X.0Eq r0 = r5.A26
            X.092 r1 = r0.A04(r6)
            X.1rr r0 = r5.A1H
            boolean r4 = r0.A0H(r6)
            r3 = 1
            r2 = 0
            if (r1 == 0) goto L1b
            boolean r0 = r1 instanceof X.C0LW
            if (r0 == 0) goto L1b
            X.0LW r1 = (X.C0LW) r1
            boolean r1 = r1.A00
            r0 = 1
            if (r1 != 0) goto L1c
        L1b:
            r0 = 0
        L1c:
            if (r4 == 0) goto L26
            if (r0 != 0) goto L2d
            X.1rr r0 = r5.A1H
            r0.A0C(r6, r3)
            return
        L26:
            if (r0 == 0) goto L2d
            X.1rr r0 = r5.A1H
            r0.A0C(r6, r2)
        L2d:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.A2K(com.whatsapp.jid.UserJid):void");
    }

    public final void A2L(AnonymousClass092 anonymousClass092) {
        int i;
        int height;
        int firstVisiblePosition = this.A0X.getFirstVisiblePosition();
        int lastVisiblePosition = this.A0X.getLastVisiblePosition();
        int A03 = this.A1S.A03(anonymousClass092);
        if (A03 < 0 || (i = A03 + 1) < firstVisiblePosition) {
            return;
        }
        if (i <= lastVisiblePosition) {
            View childAt = this.A0X.getChildAt(i - firstVisiblePosition);
            if (childAt == null || childAt.getTop() <= (height = (this.A0X.getHeight() >> 1) - (childAt.getHeight() >> 1))) {
                return;
            }
        } else {
            height = this.A0X.getHeight() >> 1;
        }
        this.A0X.smoothScrollToPositionFromTop(i, height);
        if (this.A45) {
            return;
        }
        this.A0X.setTranscriptMode(0);
        this.A0H.setVisibility(0);
    }

    public void A2M(final AnonymousClass092 anonymousClass092, final int i) {
        C58342qz c58342qz = this.A1S;
        c58342qz.A0Q.add(anonymousClass092.A0n);
        if (anonymousClass092.A0p < this.A0A) {
            C27661Og A09 = this.A20.A09(this.A2a, anonymousClass092.A0p, 100, this.A09);
            C58342qz c58342qz2 = this.A1S;
            c58342qz2.A0N.clear();
            c58342qz2.A0I.clear();
            this.A0A = A09.A01;
            int firstVisiblePosition = this.A0X.getFirstVisiblePosition();
            int count = this.A1S.getCount();
            this.A1S.changeCursor(A09.A00);
            int A1b = A1b(anonymousClass092);
            int A04 = this.A1S.A04(anonymousClass092, A1b);
            if (A04 == -1) {
                final int headerViewsCount = this.A0X.getHeaderViewsCount() + A1b;
                A28((this.A1S.getCount() + firstVisiblePosition) - count, i);
                this.A1S.getCount();
                this.A0X.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() { // from class: X.1KK
                    {
                        Conversation.this = this;
                    }

                    @Override // android.view.ViewTreeObserver.OnGlobalLayoutListener
                    public void onGlobalLayout() {
                        Conversation conversation = Conversation.this;
                        conversation.A0X.getViewTreeObserver().removeGlobalOnLayoutListener(this);
                        C58342qz c58342qz3 = conversation.A1S;
                        c58342qz3.A0Q.add(anonymousClass092.A0n);
                        conversation.A1m();
                        conversation.A27(headerViewsCount, i);
                    }
                });
                return;
            }
            A28(this.A0X.getHeaderViewsCount() + this.A1S.A02(A1b, A04), i);
            return;
        }
        A1m();
        int A1b2 = A1b(anonymousClass092);
        int A042 = this.A1S.A04(anonymousClass092, A1b2);
        if (A042 == -1) {
            A27(this.A0X.getHeaderViewsCount() + A1b2, i);
            return;
        }
        A28(this.A0X.getHeaderViewsCount() + this.A1S.A02(A1b2, A042), i);
    }

    public /* synthetic */ void A2N(AnonymousClass092 anonymousClass092, int i, boolean z) {
        AnonymousClass094 anonymousClass094 = anonymousClass092.A0n;
        AbstractC48182Ef A1d = A1d(anonymousClass094);
        if (A1d == null) {
            if (!this.A1S.A08(anonymousClass094)) {
                return;
            }
            StringBuilder A0P = C000200d.A0P("conversation/refresh: no view for ");
            A0P.append(anonymousClass094.A01);
            A0P.append(" ");
            A0P.append(this.A0X.getFirstVisiblePosition());
            A0P.append("-");
            A0P.append(this.A0X.getLastVisiblePosition());
            A0P.append(" (");
            A0P.append(this.A0X.getCount());
            A0P.append(")");
            Log.i(A0P.toString());
        } else if (i == 8) {
            A1d.A0M();
        } else if (i == 12) {
            A1d.A0J();
        } else if (i == 20) {
            this.A1S.A08(anonymousClass094);
        } else if (z) {
            A1d.A0Y(anonymousClass092, true);
        } else {
            A1d.A0X(anonymousClass092, true);
        }
    }

    public void A2O(AnonymousClass092 anonymousClass092, boolean z) {
        if (anonymousClass092 == null || A2S() || this.A2f == null) {
            return;
        }
        C0U0 c0u0 = this.A0e;
        if (c0u0 != null) {
            c0u0.A05();
        }
        this.A34 = anonymousClass092;
        A57.put(this.A2a, anonymousClass092);
        C73453bf c73453bf = this.A3m;
        if (c73453bf != null) {
            c73453bf.A0X = anonymousClass092;
        }
        if (this.A0G == null) {
            View inflate = getLayoutInflater().inflate(R.layout.quoted_message, (ViewGroup) null, false);
            this.A0G = inflate;
            FrameLayout frameLayout = (FrameLayout) inflate.findViewById(R.id.quoted_message_frame);
            Drawable A03 = C02160Ac.A03(this, R.drawable.balloon_incoming_frame);
            if (A03 != null) {
                frameLayout.setForeground(C02180Ae.A0Q(A03, C02160Ac.A00(this, R.color.conversationEntryBackground)));
                this.A0O.addView(this.A0G);
                C0LX.A06(this.A1s, this.A0G.findViewById(R.id.quoted_title_frame), 0, getResources().getDimensionPixelSize(R.dimen.conversation_title_padding));
                this.A0G.findViewById(R.id.cancel).setVisibility(0);
                this.A0G.findViewById(R.id.cancel).setOnClickListener(new AbstractView$OnClickListenerC49532Ky() { // from class: X.1iF
                    {
                        Conversation.this = this;
                    }

                    @Override // X.AbstractView$OnClickListenerC49532Ky
                    public void A00(View view) {
                        int i;
                        Conversation conversation = Conversation.this;
                        conversation.A34 = null;
                        Conversation.A57.remove(conversation.A2a);
                        C73453bf c73453bf2 = conversation.A3m;
                        if (c73453bf2 != null) {
                            c73453bf2.A0X = null;
                        }
                        if (conversation.A0O.getVisibility() == 0 && (i = conversation.A08) >= 0) {
                            C000200d.A1F(C000200d.A0P("conversation/hidelinkpreview/start "), i);
                            conversation.A2A(conversation.A0O, conversation.A0G);
                        }
                        conversation.A1w();
                    }
                });
                TextView textView = (TextView) this.A0G.findViewById(R.id.quoted_title);
                textView.setTextSize(AbstractC48182Ef.A04(getResources(), this.A1s));
                C003301p.A06(textView);
            } else {
                throw null;
            }
        }
        this.A1d.A01(this.A0G, this.A2a, anonymousClass092, this.A3L, ((AbstractActivityC04650Lh) this).A0D.A01(this));
        if (this.A0G.findViewById(R.id.quoted_thumb).getVisibility() == 0) {
            this.A0G.findViewById(R.id.cancel_image).setBackgroundResource(R.drawable.semi_white_circle);
        } else {
            this.A0G.findViewById(R.id.cancel_image).setBackgroundColor(0);
        }
        if (this.A0O.getVisibility() != 0 || this.A08 < 0) {
            Log.i("conversation/replypreview/start");
            A2B(this.A0O, this.A0G);
        }
        C48352Ex c48352Ex = this.A2N;
        if (c48352Ex == null || c48352Ex.isShowing() || !z) {
            return;
        }
        this.A2f.A02(false);
    }

    public void A2P(C73343bU c73343bU) {
        C73353bV c73353bV = c73343bU.A01;
        if (c73353bV != null) {
            A1j();
            AnonymousClass092 anonymousClass092 = c73343bU.A00;
            if (anonymousClass092 != null) {
                if (C003101m.A0Z(anonymousClass092.A0n.A00)) {
                    return;
                }
                A2O(anonymousClass092, false);
            }
            C73453bf c73453bf = this.A3m;
            if (c73453bf != null) {
                c73453bf.A0I(c73353bV.A01, true);
            }
            this.A0V.setEnabled(true);
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:115:0x00d1  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public final void A2Q(boolean r14) {
        /*
            Method dump skipped, instructions count: 359
            To view this dump change 'Code comments level' option to 'DEBUG'
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.A2Q(boolean):void");
    }

    public boolean A2R() {
        if (this.A0X.getLastVisiblePosition() < (this.A1S.getCount() + this.A0X.getHeaderViewsCount()) - 1 || this.A0X.getChildCount() == 0) {
            return false;
        }
        ListView listView = this.A0X;
        return listView.getChildAt(listView.getChildCount() - 1).getBottom() == this.A0X.getHeight();
    }

    public boolean A2S() {
        if (this.A4D) {
            Jid A03 = this.A2D.A03(C011005l.class);
            if (A03 != null) {
                GroupJid groupJid = (GroupJid) A03;
                C0C8 c0c8 = this.A25;
                return !c0c8.A01(groupJid).A0B(c0c8.A01) || (this.A2D.A0Q && !this.A25.A06(groupJid));
            }
            throw null;
        }
        return false;
    }

    public boolean A2T() {
        C73453bf c73453bf = this.A3m;
        return c73453bf != null && c73453bf.A0S();
    }

    public final boolean A2U() {
        this.A30.A00(false);
        if (this.A2N.isShowing()) {
            this.A2N.dismiss();
            return true;
        }
        return false;
    }

    public /* synthetic */ boolean A2V() {
        this.A3b.A07();
        return true;
    }

    public /* synthetic */ boolean A2W() {
        this.A1Q.A08(2);
        return true;
    }

    public /* synthetic */ boolean A2X(int i, KeyEvent keyEvent) {
        if (i != 23 || keyEvent.getAction() != 0 || A2T() || this.A2O.A01()) {
            return false;
        }
        A1q();
        A1j();
        C73453bf c73453bf = this.A3m;
        if (c73453bf.A0S()) {
            return false;
        }
        c73453bf.A06();
        return true;
    }

    public boolean A2Y(int i, AbstractC005302j abstractC005302j) {
        if (i == R.id.menuitem_add_to_contacts || i == R.id.menuitem_add_to_existing_contact) {
            if (abstractC005302j != null) {
                A2F(((AbstractActivityC04650Lh) this).A06.A09(abstractC005302j), abstractC005302j, i == R.id.menuitem_add_to_contacts);
                return true;
            }
            Log.w("conversation/add-contact-failed");
            this.A0n.A07(R.string.group_add_contact_failed, 0);
            return true;
        } else if (i == R.id.menuitem_view_business_profile) {
            if (abstractC005302j != null) {
                ContactInfoActivity.A03(((AbstractActivityC04650Lh) this).A06.A0A(abstractC005302j), this, C2HC.A04(this, findViewById(R.id.transition_start), getApplicationContext().getResources().getString(R.string.transition_photo)));
                finish();
                return true;
            }
            Log.e("conversation/view-business-profile/error no-resource");
            return true;
        } else if (i == R.id.menuitem_message_contact) {
            if (abstractC005302j != null) {
                this.A0f.A08(this, A00(this, ((AbstractActivityC04650Lh) this).A06.A0A(abstractC005302j)), "Conversation:messageContact");
                finish();
                return true;
            }
            Log.e("conversation/message-contact/error no-resource");
            return true;
        } else if (i == R.id.menuitem_voice_call_contact) {
            if (abstractC005302j != null) {
                this.A3o.A00(((AbstractActivityC04650Lh) this).A06.A0A(abstractC005302j), this, 8, false, false);
                return true;
            }
            Log.e("conversation/call-contact/error no-resource");
            return true;
        } else if (i == R.id.menuitem_video_call_contact) {
            if (abstractC005302j != null) {
                this.A3o.A00(((AbstractActivityC04650Lh) this).A06.A0A(abstractC005302j), this, 8, false, true);
                return true;
            }
            Log.e("conversation/call-contact/error no-resource");
            return true;
        } else {
            return false;
        }
    }

    public /* synthetic */ boolean A2Z(MotionEvent motionEvent) {
        if (this.A2O.A01()) {
            return false;
        }
        A1q();
        A1j();
        return this.A3m.A0T(this.A0W, motionEvent, this.A4A);
    }

    /* JADX WARN: Code restructure failed: missing block: B:28:0x0019, code lost:
        if (r5.equals("video/x.looping_mp4") != false) goto L18;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public boolean A2a(X.C26761Ko r13, androidx.core.view.inputmethod.InputContentInfoCompat r14, int r15) {
        /*
            r12 = this;
            X.1Kn r3 = r13.A00(r14, r15)
            r11 = 0
            if (r3 != 0) goto L8
            return r11
        L8:
            java.lang.String r5 = r3.A01
            java.lang.String r0 = "image/gif"
            boolean r0 = r5.equals(r0)
            java.lang.String r1 = "video/x.looping_mp4"
            if (r0 != 0) goto L1b
            boolean r0 = r5.equals(r1)
            r4 = 5
            if (r0 == 0) goto L1d
        L1b:
            r4 = 23
        L1d:
            boolean r0 = r5.equals(r1)
            r9 = 0
            r2 = r9
            if (r0 == 0) goto L2b
            r0 = 13
            java.lang.Byte r2 = java.lang.Byte.valueOf(r0)
        L2b:
            java.lang.String r0 = "image/webp.wasticker"
            boolean r0 = r5.equals(r0)
            if (r0 == 0) goto L62
            X.0JM r2 = new X.0JM
            r2.<init>()
            X.2CI[] r5 = new X.C2CI[r11]
            java.lang.String r6 = ""
            r7 = r6
            r8 = r6
            r10 = r9
            X.0If r4 = new X.0If
            r4.<init>(r5, r6, r7, r8, r9, r10, r11)
            r2.A04 = r4
            r0 = 512(0x200, float:7.175E-43)
            r2.A03 = r0
            r2.A02 = r0
            java.lang.String r0 = "image/webp"
            r2.A0A = r0
            android.net.Uri r0 = r3.A00
            java.lang.String r1 = r0.toString()
            r0 = 3
            r2.A08 = r1
            r2.A01 = r0
            X.2en r0 = r12.A4q
            r0.AP7(r2, r9)
        L60:
            r0 = 1
            return r0
        L62:
            X.2ix r1 = r12.A1Q
            android.net.Uri r0 = r3.A00
            r1.A09(r0, r2, r4)
            goto L60
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.A2a(X.1Ko, androidx.core.view.inputmethod.InputContentInfoCompat, int):boolean");
    }

    @Override // X.InterfaceC04820Ly
    public void A5J(C06C c06c, AbstractC005302j abstractC005302j) {
        A2F(c06c, abstractC005302j, false);
    }

    @Override // X.AbstractActivityC04650Lh, X.InterfaceC04690Ll
    public void A5Q(View view, Drawable drawable) {
        ImageView imageView = new ImageView(this);
        imageView.setImageDrawable(drawable);
        imageView.setVisibility(4);
        imageView.getViewTreeObserver().addOnGlobalLayoutListener(new C1KI(this, imageView, view));
        RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(-2, -2);
        layoutParams.addRule(9);
        this.A0o.addView(imageView, layoutParams);
    }

    @Override // X.InterfaceC04710Ln
    public void A5a() {
        this.A4I = true;
    }

    @Override // X.InterfaceC04720Lo
    public boolean A66(C09G c09g, boolean z) {
        return A0U(c09g, A1f(c09g), z);
    }

    /* JADX WARN: Code restructure failed: missing block: B:65:0x00a2, code lost:
        if (A0U(r20, r2, r22) == false) goto L37;
     */
    @Override // X.InterfaceC04720Lo
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public boolean A6X(final X.C09G r20, int r21, boolean r22) {
        /*
            Method dump skipped, instructions count: 284
            To view this dump change 'Code comments level' option to 'DEBUG'
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.A6X(X.09G, int, boolean):boolean");
    }

    @Override // X.InterfaceC04800Lw
    public C0Zn A94() {
        return ((AbstractActivityC04650Lh) this).A0D.A01(this);
    }

    @Override // X.InterfaceC04710Ln
    public AnonymousClass092 ACf() {
        return this.A34;
    }

    @Override // X.InterfaceC04690Ll
    public ArrayList ACy() {
        return this.A41;
    }

    @Override // X.InterfaceC04720Lo
    public boolean AFn() {
        AccessibilityManager accessibilityManager = (AccessibilityManager) getSystemService("accessibility");
        return accessibilityManager == null || !accessibilityManager.isTouchExplorationEnabled();
    }

    @Override // X.InterfaceC04690Ll
    public boolean AFv(AnonymousClass092 anonymousClass092) {
        if (super.A0i.contains(anonymousClass092.A0n)) {
            return false;
        }
        if (this.A1S.A03(anonymousClass092) > this.A1S.A01()) {
            return true;
        }
        return this.A1S.A0N.contains(anonymousClass092);
    }

    @Override // X.InterfaceC04780Lu
    public void AHP() {
        A2G(this.A2D, false);
    }

    @Override // X.InterfaceC04770Lt
    public void AJ1(C27661Og c27661Og, AnonymousClass092 anonymousClass092, int i, long j) {
        if (AnonymousClass029.A1S(this.A23)) {
            View view = this.A0L;
            if (view != null && this.A0J != null && this.A0M != null && this.A0K != null) {
                view.setEnabled(true);
                this.A0J.setEnabled(true);
                this.A0M.setVisibility(8);
                this.A0K.setVisibility(8);
            }
        } else {
            ARS();
        }
        if (anonymousClass092 != null) {
            C58342qz c58342qz = this.A1S;
            c58342qz.A0Q.add(anonymousClass092.A0n);
            if (c27661Og != null && c27661Og.A00 != null) {
                C58342qz c58342qz2 = this.A1S;
                c58342qz2.A0N.clear();
                c58342qz2.A0I.clear();
                this.A0A = c27661Og.A01;
                this.A1S.changeCursor(c27661Og.A00);
            } else {
                A1m();
            }
            A28(this.A0X.getHeaderViewsCount() + i, getResources().getDimensionPixelSize(R.dimen.conversation_row_min_height));
            this.A3c.A01();
        } else {
            this.A0n.A07(R.string.not_found, 0);
            this.A11.sendAccessibilityEvent(8);
            this.A11.requestFocus();
            this.A11.A02(false);
        }
        this.A1T = null;
    }

    @Override // X.InterfaceC04770Lt
    public void AJ2(boolean z, long j) {
        View view;
        View view2;
        this.A3c = new C0HC("conversation/search/searchTask");
        if (AnonymousClass029.A1S(this.A23)) {
            if (this.A0L != null && this.A0J != null && (view = this.A0M) != null && (view2 = this.A0K) != null) {
                if (z) {
                    view.setVisibility(0);
                } else {
                    view2.setVisibility(0);
                }
                this.A0L.setEnabled(false);
                this.A0J.setEnabled(false);
                return;
            }
            return;
        }
        A12(R.string.searching);
    }

    @Override // X.InterfaceC04830Lz
    public void AJj(C2CI c2ci) {
        this.A4d.AJi(c2ci.A00);
    }

    @Override // X.InterfaceC04750Lr
    public void AKF(UserJid userJid, int i) {
        A2C(null);
    }

    @Override // X.InterfaceC04750Lr
    public void AKG(UserJid userJid) {
        C2JU c2ju = this.A1h;
        C2N3 A1c = A1c();
        C2A2 A07 = c2ju.A08.A07(userJid);
        if (A07 != null) {
            A1c.A01(A07, 2, new C39Z(c2ju, userJid), null, null);
        } else {
            c2ju.A02(userJid);
        }
    }

    @Override // X.InterfaceC04730Lp
    public void AKn() {
        C2JU c2ju = this.A1h;
        C05920Qu c05920Qu = c2ju.A00;
        if (c05920Qu instanceof C659139a) {
            UserJid userJid = ((C659139a) c05920Qu).A00;
            String A02 = c2ju.A05.A02(userJid);
            if (A02 != null) {
                c2ju.A00.A0A = A02;
            }
            c2ju.A03(userJid);
        }
    }

    @Override // X.InterfaceC04790Lv
    public void AKr(C49302Jn c49302Jn) {
        if (!this.A1q.A06()) {
            this.A2Q = c49302Jn;
            int i = Build.VERSION.SDK_INT;
            int i2 = R.string.permission_storage_need_write_access_on_sending_media_v30;
            if (i < 30) {
                i2 = R.string.permission_storage_need_write_access_on_sending_media;
            }
            RequestPermissionActivity.A06(this, R.string.permission_storage_need_write_access_on_sending_media_request, i2, false, 811);
            return;
        }
        A2J(c49302Jn);
    }

    @Override // X.InterfaceC04740Lq
    public void AMy(PickerSearchDialogFragment pickerSearchDialogFragment) {
        C78833kb c78833kb = this.A30;
        c78833kb.A07 = true;
        c78833kb.A03 = pickerSearchDialogFragment;
        pickerSearchDialogFragment.A00 = c78833kb;
        if (pickerSearchDialogFragment instanceof StickerSearchDialogFragment) {
            c78833kb.A08.A01 = c78833kb;
        }
        C73453bf c73453bf = this.A3m;
        if (c73453bf == null || !c73453bf.A0S()) {
            return;
        }
        c73453bf.A01();
    }

    @Override // X.InterfaceC04760Ls
    public void ANh() {
        this.A1Q.A01();
    }

    @Override // X.InterfaceC04760Ls
    public void APZ() {
        this.A1Q.A00();
    }

    @Override // X.InterfaceC04780Lu
    public void AQH() {
        A2G(this.A2D, true);
    }

    @Override // X.InterfaceC04810Lx
    public void ARZ() {
        A1r();
    }

    @Override // X.InterfaceC04710Ln
    public void ARk() {
        this.A0O.setVisibility(8);
        A26(R.drawable.ib_new_round);
        A57.remove(this.A2D.A03(AbstractC005302j.class));
        this.A34 = null;
        A1i();
    }

    @Override // X.InterfaceC04720Lo
    public void ARn(C09G c09g, long j) {
        C1GG c1gg = new C1GG(this, c09g, -1, true);
        this.A3u = c1gg;
        this.A0X.postDelayed(c1gg, j);
    }

    @Override // X.InterfaceC04720Lo
    public void AT4(boolean z) {
        this.A47 = z;
    }

    @Override // X.InterfaceC04740Lq
    public void AUf(DialogFragment dialogFragment) {
        AUh(dialogFragment);
    }

    @Override // X.ActivityC02290Ap, android.app.Activity, android.view.Window.Callback
    public boolean dispatchTouchEvent(MotionEvent motionEvent) {
        if (this.A1S.A0G) {
            C09560eJ c09560eJ = this.A1c.A00;
            if (c09560eJ == null || !c09560eJ.A0O) {
                if (motionEvent.getAction() == 0) {
                    this.A47 = false;
                }
                if (this.A2O.A01()) {
                    View view = this.A0E;
                    int[] iArr = this.A50;
                    view.getLocationOnScreen(iArr);
                    if (motionEvent.getRawY() >= iArr[1]) {
                        if (motionEvent.getRawY() < this.A0E.getHeight() + iArr[1]) {
                            if (motionEvent.getAction() == 0) {
                                this.A4N = true;
                            } else if (motionEvent.getAction() == 1) {
                                if (this.A4N) {
                                    this.A2O.A00(true);
                                    this.A0E.requestFocus();
                                }
                                this.A4N = false;
                            }
                        }
                    }
                }
                try {
                    return super.dispatchTouchEvent(motionEvent);
                } catch (ActivityNotFoundException e) {
                    StringBuilder A0P = C000200d.A0P("conversation/dispatch-touch-event ");
                    A0P.append(e.toString());
                    Log.e(A0P.toString(), e);
                    this.A0n.A07(R.string.activity_not_found, 0);
                    return false;
                } catch (ArrayIndexOutOfBoundsException e2) {
                    Log.e("conversation/dispatch-touch-event ", e2);
                    return false;
                } catch (IllegalArgumentException e3) {
                    Log.e("conversation/dispatch-touch-event ", e3);
                    return false;
                }
            }
            return false;
        }
        return false;
    }

    public /* synthetic */ void lambda$new$631$Conversation(View view) {
        if (this.A0X.getLastVisiblePosition() >= (this.A0X.getCount() - this.A0X.getFooterViewsCount()) - 1) {
            this.A0X.setTranscriptMode(2);
            A1s();
        }
        A1q();
    }

    public /* synthetic */ void lambda$onCreate$633$Conversation(View view) {
        UserJid peerJid = Voip.getPeerJid();
        if (peerJid != null) {
            Intent A01 = VoipActivityV2.A01(this, peerJid, Boolean.FALSE);
            A01.putExtra("lobbyEntryPoint", 7);
            startActivity(A01);
        }
    }

    public /* synthetic */ void lambda$onCreate$637$Conversation(View view) {
        this.A1Q.A08(2);
    }

    public /* synthetic */ void lambda$onCreate$639$Conversation(View view) {
        this.A0X.onWindowFocusChanged(false);
        Stack stack = this.A4z;
        if (stack.empty()) {
            A1s();
            this.A0H.setVisibility(8);
            return;
        }
        C1KL c1kl = (C1KL) stack.pop();
        A2M(c1kl.A02, c1kl.A00);
    }

    public /* synthetic */ void lambda$onCreate$640$Conversation(View view) {
        this.A0X.onWindowFocusChanged(false);
        A1u();
    }

    public /* synthetic */ void lambda$onCreate$642$Conversation(View view) {
        A2Q(false);
    }

    /* JADX WARN: Code restructure failed: missing block: B:170:0x0105, code lost:
        if (r9.A0F != null) goto L61;
     */
    /* JADX WARN: Code restructure failed: missing block: B:171:0x0107, code lost:
        r6 = r20.getIntExtra("provider", 0);
        r1 = 1;
     */
    /* JADX WARN: Code restructure failed: missing block: B:172:0x010e, code lost:
        if (r6 == 1) goto L68;
     */
    /* JADX WARN: Code restructure failed: missing block: B:173:0x0110, code lost:
        r1 = 2;
        r0 = 0;
     */
    /* JADX WARN: Code restructure failed: missing block: B:174:0x0112, code lost:
        if (r6 != 2) goto L65;
     */
    /* JADX WARN: Code restructure failed: missing block: B:175:0x0114, code lost:
        r0 = r1;
     */
    /* JADX WARN: Code restructure failed: missing block: B:176:0x0115, code lost:
        r9.A05 = r0;
        r17.A10.A0Y(r17.A2d.A09(r17.A2a, r9, (byte) 13, 0, r20.getStringExtra("caption"), r13, r17.A34, X.C003101m.A0F(com.whatsapp.jid.UserJid.class, r20.getStringArrayListExtra("mentions")), r17.A4A), r5);
        r17.A4I = true;
        r17.A2O.A00(false);
        r17.A30.A00(false);
     */
    /* JADX WARN: Code restructure failed: missing block: B:177:0x0150, code lost:
        if (r20.getBooleanExtra("clear_message_after_send", false) == false) goto L54;
     */
    /* JADX WARN: Code restructure failed: missing block: B:178:0x0152, code lost:
        A1i();
     */
    /* JADX WARN: Code restructure failed: missing block: B:185:0x017c, code lost:
        if (r13 == null) goto L59;
     */
    @Override // X.AbstractActivityC04650Lh, X.ActivityC02330At, android.app.Activity
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public void onActivityResult(int r18, int r19, android.content.Intent r20) {
        /*
            Method dump skipped, instructions count: 634
            To view this dump change 'Code comments level' option to 'DEBUG'
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.onActivityResult(int, int, android.content.Intent):void");
    }

    @Override // X.ActivityC02290Ap, X.ActivityC02340Au, android.app.Activity
    public void onBackPressed() {
        C73053b1 c73053b1;
        if (this.A2O.A02()) {
            return;
        }
        if (Build.VERSION.SDK_INT >= 19 && (c73053b1 = this.A3h) != null && c73053b1.A0D && c73053b1.A0E) {
            c73053b1.A0A(false);
            return;
        }
        if (isTaskRoot()) {
            Intent intent = new Intent(this, HomeActivity.class);
            if (Build.VERSION.SDK_INT >= 21) {
                finishAndRemoveTask();
                startActivity(intent);
                return;
            }
            startActivity(intent);
        }
        C0IT c0it = (C0IT) this.A1x.A0C().get(this.A2D.A03(AbstractC005302j.class));
        if (c0it != null && c0it.A0T) {
            C41181tV c41181tV = this.A1v;
            Jid A03 = this.A2D.A03(AbstractC005302j.class);
            if (A03 != null) {
                c41181tV.A03((AbstractC005302j) A03);
            } else {
                throw null;
            }
        }
        super.onBackPressed();
    }

    @Override // X.AbstractActivityC04650Lh, X.ActivityC02290Ap, X.ActivityC02310Ar, X.ActivityC02320As, X.ActivityC02330At, android.app.Activity, android.content.ComponentCallbacks
    public void onConfigurationChanged(Configuration configuration) {
        C73053b1 c73053b1;
        C73053b1 c73053b12;
        super.onConfigurationChanged(configuration);
        if (this.A45) {
            this.A0X.setTranscriptMode(2);
            this.A4Q.sendEmptyMessageDelayed(1, 1000L);
        } else {
            this.A0X.setSelection(this.A00);
        }
        if (Build.VERSION.SDK_INT >= 19 && (c73053b12 = this.A3h) != null) {
            int i = configuration.orientation;
            c73053b12.A00 = i;
            if (!c73053b12.A0E) {
                c73053b12.A02 = i;
            }
        }
        if (configuration.orientation == 1) {
            C003301p.A05(this.A2f);
            return;
        }
        this.A2f.setMaxLines(2);
        if (Build.VERSION.SDK_INT < 19 || (c73053b1 = this.A3h) == null || !c73053b1.A0D || c73053b1.A0E) {
            return;
        }
        c73053b1.A01();
        this.A3h.A02 = 1;
    }

    /* JADX WARN: Code restructure failed: missing block: B:482:0x06d8, code lost:
        if (r56.getBoolean("has_number_from_url") != false) goto L309;
     */
    /* JADX WARN: Code restructure failed: missing block: B:490:0x06f0, code lost:
        if (r56.getBoolean("has_text_from_url") != false) goto L306;
     */
    /* JADX WARN: Code restructure failed: missing block: B:498:0x0706, code lost:
        if (r56.getBoolean("added_by_qr_code") != false) goto L265;
     */
    /* JADX WARN: Removed duplicated region for block: B:414:0x0261  */
    /* JADX WARN: Removed duplicated region for block: B:665:0x0d77  */
    @Override // X.AbstractActivityC04640Lg, X.AbstractActivityC04650Lh, X.AbstractActivityC04660Li, X.AbstractActivityC04670Lj, X.AbstractActivityC04680Lk, X.AbstractActivityC02260Am, X.ActivityC02270An, X.AbstractActivityC02280Ao, X.ActivityC02290Ap, X.AbstractActivityC02300Aq, X.ActivityC02310Ar, X.ActivityC02320As, X.ActivityC02330At, X.ActivityC02340Au, X.ActivityC02350Av, android.app.Activity
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public void onCreate(android.os.Bundle r56) {
        /*
            Method dump skipped, instructions count: 3493
            To view this dump change 'Code comments level' option to 'DEBUG'
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.onCreate(android.os.Bundle):void");
    }

    @Override // X.AbstractActivityC04650Lh, X.ActivityC02270An, android.app.Activity
    public Dialog onCreateDialog(int i) {
        Dialog A0F;
        C019208x A03;
        C019208x A05;
        C73453bf c73453bf = this.A3m;
        if (c73453bf != null && c73453bf.A0S() && !c73453bf.A0j) {
            c73453bf.A07 = i;
            return null;
        }
        final C39R c39r = this.A1e;
        final C06C c06c = this.A2D;
        C59372se c59372se = c39r.A0I;
        if (i == 0) {
            C002701i.A18(c39r.A02, 0);
            ActivityC02320As activityC02320As = c39r.A02;
            C002701i.A18(activityC02320As, c39r.A0I.A03);
            InterfaceC53642hH interfaceC53642hH = new InterfaceC53642hH() { // from class: X.39P
                @Override // X.InterfaceC53642hH
                public void AMJ() {
                    C002701i.A18(c39r.A02, 0);
                }

                @Override // X.InterfaceC53642hH
                public void AN7(boolean z, boolean z2) {
                    C39R c39r2 = c39r;
                    C002701i.A18(c39r2.A02, 0);
                    c39r2.A06.AUr(0, R.string.register_wait_message);
                    long elapsedRealtime = SystemClock.elapsedRealtime();
                    c39r2.A04.A00.A1r();
                    C39S c39s = c39r2.A00;
                    if (c39s != null) {
                        c39s.A01 = null;
                        c39s.A00 = null;
                        c39s.A05(true);
                    }
                    C39S c39s2 = new C39S(c39r2.A0C, c39r2.A01, elapsedRealtime, c39r2.A0P, z, z2);
                    c39r2.A00 = c39s2;
                    c39r2.A0S.ARy(c39s2, new Object[0]);
                }
            };
            String string = activityC02320As.getString(R.string.clear_all_messages_ask);
            C2MZ c2mz = c39r.A0R;
            if (c2mz.A08()) {
                A05 = c2mz.A04(activityC02320As, interfaceC53642hH, 1, 3, 0, true);
            } else {
                A05 = c2mz.A05(activityC02320As, interfaceC53642hH, string, true, 1);
            }
            DialogInterfaceC019408z A00 = A05.A00();
            A00.show();
            return A00;
        }
        if (i == c59372se.A03) {
            C002701i.A18(c39r.A02, 0);
            ActivityC02320As activityC02320As2 = c39r.A02;
            C002701i.A18(activityC02320As2, c39r.A0I.A03);
            InterfaceC53622hF interfaceC53622hF = new InterfaceC53622hF() { // from class: X.39Q
                @Override // X.InterfaceC53622hF
                public void AMJ() {
                    C39R c39r2 = c39r;
                    C002701i.A18(c39r2.A02, c39r2.A0I.A03);
                }

                @Override // X.InterfaceC53622hF
                public void AN6(boolean z) {
                    C39R c39r2 = c39r;
                    C002701i.A18(c39r2.A02, c39r2.A0I.A03);
                    c39r2.A06.AUr(0, R.string.register_wait_message);
                    long elapsedRealtime = SystemClock.elapsedRealtime();
                    c39r2.A04.A00.A1r();
                    C39S c39s = c39r2.A00;
                    if (c39s != null) {
                        c39s.A01 = null;
                        c39s.A00 = null;
                        c39s.A05(true);
                    }
                    C39S c39s2 = new C39S(c39r2.A0C, c39r2.A01, elapsedRealtime, c39r2.A0P, false, z);
                    c39r2.A00 = c39s2;
                    c39r2.A0S.ARy(c39s2, new Object[0]);
                }
            };
            String string2 = activityC02320As2.getString(R.string.clear_all_messages_ask);
            C2MZ c2mz2 = c39r.A0R;
            if (c2mz2.A08()) {
                A03 = c2mz2.A04(activityC02320As2, new C53632hG(interfaceC53622hF), 1, 3, 0, false);
            } else {
                A03 = c2mz2.A03(activityC02320As2, interfaceC53622hF, string2, false, R.string.clear, 1);
            }
            A0F = A03.A00();
        } else if (i == c59372se.A01) {
            DialogInterface.OnClickListener onClickListener = new DialogInterface.OnClickListener() { // from class: X.2sd
                @Override // android.content.DialogInterface.OnClickListener
                public final void onClick(DialogInterface dialogInterface, int i2) {
                    C39R c39r2 = c39r;
                    c39r2.A0S.ARy(new C39O(c39r2.A02, c39r2.A0C, c39r2.A0H, c39r2.A06, c06c, null, null), new Void[0]);
                }
            };
            C019208x c019208x = new C019208x(c39r.A02);
            ActivityC02320As activityC02320As3 = c39r.A02;
            c019208x.A01.A0E = C002701i.A0g(activityC02320As3.getString(R.string.exit_group_dialog_title, c39r.A0F.A08(c06c, false)), activityC02320As3, c39r.A0N);
            c019208x.A06(R.string.exit_group, onClickListener);
            c019208x.A04(R.string.cancel, null);
            A0F = c019208x.A00();
        } else if (i == c59372se.A02) {
            DialogInterface.OnClickListener onClickListener2 = new DialogInterface.OnClickListener() { // from class: X.2sY
                @Override // android.content.DialogInterface.OnClickListener
                public final void onClick(DialogInterface dialogInterface, int i2) {
                    C39R c39r2 = c39r;
                    ActivityC02320As activityC02320As4 = c39r2.A02;
                    activityC02320As4.startActivity(new Intent("android.settings.LOCATION_SOURCE_SETTINGS"));
                    C002701i.A18(activityC02320As4, c39r2.A0I.A02);
                }
            };
            C019208x c019208x2 = new C019208x(c39r.A02);
            c019208x2.A03(R.string.gps_required_title);
            c019208x2.A02(R.string.gps_required_body);
            c019208x2.A06(R.string.ok, onClickListener2);
            A0F = c019208x2.A00();
        } else if (i == 106) {
            C019208x c019208x3 = new C019208x(c39r.A02);
            c019208x3.A01.A0E = c39r.A02.getString(R.string.cannot_send_to_blocked_contact_1, c39r.A0F.A08(c06c, false));
            c019208x3.A06(R.string.unblock, new DialogInterface.OnClickListener() { // from class: X.2sa
                @Override // android.content.DialogInterface.OnClickListener
                public final void onClick(DialogInterface dialogInterface, int i2) {
                    C39R c39r2 = c39r;
                    C06C c06c2 = c06c;
                    C40261rr c40261rr = c39r2.A0D;
                    ActivityC02320As activityC02320As4 = c39r2.A02;
                    if (c06c2 != null) {
                        c40261rr.A09(activityC02320As4, c06c2, !c39r2.A09.A0E(C01C.A0k));
                        C002701i.A18(activityC02320As4, 106);
                        return;
                    }
                    throw null;
                }
            });
            c019208x3.A04(R.string.cancel, new DialogInterface.OnClickListener() { // from class: X.2sW
                @Override // android.content.DialogInterface.OnClickListener
                public final void onClick(DialogInterface dialogInterface, int i2) {
                    C002701i.A18(c39r.A02, 106);
                }
            });
            A0F = c019208x3.A00();
        } else if (i == c59372se.A06) {
            Log.w("conversation/dialog/oom");
            C019208x c019208x4 = new C019208x(c39r.A02);
            c019208x4.A02(R.string.error_out_of_memory);
            c019208x4.A06(R.string.ok, new DialogInterface.OnClickListener() { // from class: X.2sV
                @Override // android.content.DialogInterface.OnClickListener
                public final void onClick(DialogInterface dialogInterface, int i2) {
                    C39R c39r2 = c39r;
                    C002701i.A18(c39r2.A02, c39r2.A0I.A06);
                }
            });
            A0F = c019208x4.A00();
        } else if (i == c59372se.A05) {
            Log.e("conversation/dialog/not-an-image");
            C019208x c019208x5 = new C019208x(c39r.A02);
            c019208x5.A02(R.string.error_file_is_not_a_image);
            c019208x5.A06(R.string.ok, new DialogInterface.OnClickListener() { // from class: X.2sU
                @Override // android.content.DialogInterface.OnClickListener
                public final void onClick(DialogInterface dialogInterface, int i2) {
                    C39R c39r2 = c39r;
                    C002701i.A18(c39r2.A02, c39r2.A0I.A05);
                }
            });
            A0F = c019208x5.A00();
        } else if (i == c59372se.A09) {
            Log.i("conversation/warned-about-call-charges");
            C019208x c019208x6 = new C019208x(c39r.A02);
            c019208x6.A02(R.string.call_charges);
            c019208x6.A06(R.string.call, new DialogInterface.OnClickListener() { // from class: X.2sc
                @Override // android.content.DialogInterface.OnClickListener
                public final void onClick(DialogInterface dialogInterface, int i2) {
                    C39R c39r2 = c39r;
                    ActivityC02320As activityC02320As4 = c39r2.A02;
                    C002701i.A18(activityC02320As4, c39r2.A0I.A09);
                    try {
                        activityC02320As4.startActivity(new Intent("android.intent.action.DIAL", Uri.parse(C000200d.A0H("tel:", C04630Le.A00(c39r2.A0M.A02(c39r2.A0P))))));
                    } catch (ActivityNotFoundException unused) {
                        c39r2.A07.A07(R.string.activity_not_found, 0);
                    }
                }
            });
            c019208x6.A04(R.string.cancel, new DialogInterface.OnClickListener() { // from class: X.2sT
                @Override // android.content.DialogInterface.OnClickListener
                public final void onClick(DialogInterface dialogInterface, int i2) {
                    C39R c39r2 = c39r;
                    C002701i.A18(c39r2.A02, c39r2.A0I.A09);
                }
            });
            A0F = c019208x6.A00();
        } else if (i == 10) {
            A0F = c39r.A0G.A00(c39r.A02, c39r.A06, c06c);
        } else if (i == 115) {
            Log.i("conversation/dialog software-about-to-expire");
            A0F = c39r.A0A.A02(c39r.A02, c39r.A0B, c39r.A08);
        } else if (i == c59372se.A00) {
            Log.w("conversation/add existing contact: activity not found, probably tablet");
            C019208x c019208x7 = new C019208x(c39r.A02);
            c019208x7.A02(R.string.activity_not_found);
            c019208x7.A06(R.string.ok, new DialogInterface.OnClickListener() { // from class: X.2sX
                @Override // android.content.DialogInterface.OnClickListener
                public final void onClick(DialogInterface dialogInterface, int i2) {
                    C39R c39r2 = c39r;
                    C002701i.A18(c39r2.A02, c39r2.A0I.A00);
                }
            });
            A0F = c019208x7.A00();
        } else if (i == c59372se.A04) {
            C59232sQ c59232sQ = ((AbstractActivityC04650Lh) c39r.A04.A00).A0G;
            if (c59232sQ != null && !c59232sQ.isEmpty()) {
                StringBuilder A0P = C000200d.A0P("conversation/dialog/delete/");
                A0P.append(c59232sQ.size());
                Log.i(A0P.toString());
                A0F = AnonymousClass088.A0G(c39r.A02, c39r.A07, c39r.A0J, c39r.A0S, c39r.A0N, c39r.A0C, c39r.A0E, c39r.A0F, c39r.A0L, c39r.A0O, c39r.A0K, new HashSet(c59232sQ.values()), (AbstractC005302j) c06c.A03(AbstractC005302j.class), c39r.A0I.A04, c39r.A05);
            } else {
                Log.e("conversation/dialog/delete no messages");
                return super.onCreateDialog(i);
            }
        } else if (i == c59372se.A08) {
            C019208x c019208x8 = new C019208x(c39r.A02);
            c019208x8.A01.A0E = c39r.A02.getString(R.string.cant_send_message_too_long_with_placeholder, 65536);
            c019208x8.A06(R.string.send, new DialogInterface.OnClickListener() { // from class: X.2sb
                @Override // android.content.DialogInterface.OnClickListener
                public final void onClick(DialogInterface dialogInterface, int i2) {
                    C39R c39r2 = c39r;
                    c39r2.A04.A00.A2Q(true);
                    C002701i.A18(c39r2.A02, c39r2.A0I.A08);
                }
            });
            c019208x8.A04(R.string.cancel, new DialogInterface.OnClickListener() { // from class: X.2sZ
                @Override // android.content.DialogInterface.OnClickListener
                public final void onClick(DialogInterface dialogInterface, int i2) {
                    C39R c39r2 = c39r;
                    C002701i.A18(c39r2.A02, c39r2.A0I.A08);
                }
            });
            A0F = c019208x8.A00();
        } else {
            int i2 = c59372se.A07;
            if (i == i2) {
                A0F = AnonymousClass088.A0F(c39r.A02, c39r.A03, c39r.A0Q, c39r.A0K, i2);
            }
            return super.onCreateDialog(i);
        }
        if (A0F != null) {
            return A0F;
        }
        return super.onCreateDialog(i);
    }

    @Override // android.app.Activity
    public boolean onCreateOptionsMenu(Menu menu) {
        for (InterfaceC06230Sb interfaceC06230Sb : this.A4x) {
            interfaceC06230Sb.AJ9(menu);
        }
        return super.onCreateOptionsMenu(menu);
    }

    @Override // X.AbstractActivityC04650Lh, X.ActivityC02250Al, X.ActivityC02290Ap, X.ActivityC02320As, X.ActivityC02330At, android.app.Activity
    public void onDestroy() {
        C73053b1 c73053b1;
        super.onDestroy();
        C48352Ex c48352Ex = this.A2N;
        if (c48352Ex != null) {
            c48352Ex.A0B();
        }
        C73453bf c73453bf = this.A3m;
        if (c73453bf != null) {
            c73453bf.A02();
        }
        this.A2b.A0Y.remove(this.A4m);
        this.A2b.A0X.remove(this.A4l);
        ListView listView = this.A0X;
        if (listView != null) {
            listView.getViewTreeObserver().removeOnPreDrawListener(this.A4X);
            this.A0X.removeCallbacks(this.A3u);
        }
        if (this.A4F) {
            ((AbstractActivityC04650Lh) this).A0O.A00(this.A4i);
            this.A4F = false;
        }
        C58342qz c58342qz = this.A1S;
        if (c58342qz != null) {
            c58342qz.unregisterDataSetObserver(this.A4P);
        }
        C35141if c35141if = this.A0h;
        if (c35141if != null) {
            c35141if.A05(true);
        }
        A1x();
        AtomicReference atomicReference = A58;
        C0OU c0ou = (C0OU) atomicReference.get();
        if (c0ou != null) {
            if (c0ou.A00 == this) {
                atomicReference.compareAndSet(c0ou, new C0OU(null, false, this.A0v));
            }
            if (isFinishing()) {
                this.A21.A04(this.A2a, getLocalClassName());
            }
            C58342qz c58342qz2 = this.A1S;
            if (c58342qz2 != null && c58342qz2.getCursor() != null) {
                this.A1S.getCursor().close();
            }
            C654537g c654537g = this.A1T;
            if (c654537g != null) {
                c654537g.A05(true);
            }
            if (this.A4D) {
                this.A2X.A00.remove(this.A4j);
            }
            this.A1L.A00(this.A4g);
            this.A1I.A00(this.A4f);
            this.A2Y.A00(this.A4k);
            this.A3n.A00(this.A4s);
            this.A3l.A00(this.A4r);
            this.A1a.A00(this.A4h);
            this.A3j.A01(this.A4a);
            this.A2q.A00(this.A4n);
            this.A18.A00(this.A4e);
            this.A3M.A00(this.A4p);
            C461225a c461225a = this.A3T;
            c461225a.A0A.A00(c461225a.A09);
            this.A3S.A00(this.A4c);
            C84143tG c84143tG = this.A3i;
            if (c84143tG != null) {
                c84143tG.A05(true);
                this.A3i = null;
            }
            MentionableEntry mentionableEntry = this.A2f;
            if (mentionableEntry != null) {
                mentionableEntry.removeTextChangedListener(this.A4V);
                this.A2f.removeTextChangedListener(this.A4T);
                this.A2f.setFilters(new InputFilter[0]);
                this.A2f.A07();
                this.A2f = null;
            }
            C78833kb c78833kb = this.A30;
            C48352Ex c48352Ex2 = c78833kb.A00;
            if (c48352Ex2 != null) {
                c48352Ex2.A0J = null;
                c78833kb.A00 = null;
            }
            c78833kb.A02 = null;
            c78833kb.A01 = null;
            c78833kb.A04 = null;
            c78833kb.A03 = null;
            WaEditText waEditText = this.A11;
            if (waEditText != null) {
                waEditText.removeTextChangedListener(this.A4U);
            }
            BroadcastReceiver broadcastReceiver = this.A0B;
            if (broadcastReceiver != null) {
                unregisterReceiver(broadcastReceiver);
                this.A0B = null;
            }
            this.A1c.A05();
            this.A1c.A06();
            if (this.A44) {
                this.A2p.A01();
                this.A44 = false;
            }
            Runnable runnable = this.A3t;
            if (runnable != null) {
                this.A4S.removeCallbacks(runnable);
                this.A3t = null;
            }
            this.A3e.AS1(new C1FJ(this.A1m));
            if (Build.VERSION.SDK_INT >= 19 && (c73053b1 = this.A3h) != null && c73053b1.A0D) {
                c73053b1.A00();
            }
            C2N3 c2n3 = this.A1C;
            if (c2n3 != null) {
                c2n3.A00();
            }
            Set<Application.ActivityLifecycleCallbacks> set = this.A4w;
            for (Application.ActivityLifecycleCallbacks activityLifecycleCallbacks : set) {
                activityLifecycleCallbacks.onActivityDestroyed(this);
            }
            set.clear();
            this.A4x.clear();
            this.A4v.clear();
            this.A4y.clear();
            this.A1V = null;
            return;
        }
        throw null;
    }

    @Override // X.ActivityC02270An, X.ActivityC02320As, android.app.Activity, android.view.KeyEvent.Callback
    public boolean onKeyDown(int i, KeyEvent keyEvent) {
        C73453bf c73453bf;
        for (InterfaceC09830ep interfaceC09830ep : this.A4y) {
            if (interfaceC09830ep.onKeyDown(i, keyEvent)) {
                return true;
            }
        }
        if (keyEvent.isPrintingKey() && this.A2f.isShown() && !this.A2f.hasFocus() && ((c73453bf = this.A3m) == null || !c73453bf.A0S())) {
            this.A2f.requestFocus();
            this.A2f.dispatchKeyEvent(keyEvent);
            return true;
        }
        return super.onKeyDown(i, keyEvent);
    }

    @Override // X.ActivityC02270An, android.app.Activity, android.view.KeyEvent.Callback
    public boolean onKeyUp(int i, KeyEvent keyEvent) {
        if ((i == 82 || i == 4) && A2U()) {
            return false;
        }
        if (this.A4C) {
            if (i == 23) {
                if (keyEvent.getAction() == 1 && A2T()) {
                    C73453bf c73453bf = this.A3m;
                    if (!c73453bf.A0j) {
                        c73453bf.A0P(true, this.A4A, true);
                        return true;
                    }
                }
            } else if (A2T()) {
                C73453bf c73453bf2 = this.A3m;
                if (!c73453bf2.A0j) {
                    if (i == 19) {
                        c73453bf2.A0L(this.A4A);
                        return true;
                    } else if (i == 21) {
                        c73453bf2.A0P(false, this.A4A, true);
                        return true;
                    }
                }
            }
        }
        return super.onKeyUp(i, keyEvent);
    }

    @Override // X.ActivityC02290Ap, android.app.Activity
    public boolean onOptionsItemSelected(MenuItem menuItem) {
        for (InterfaceC06230Sb interfaceC06230Sb : this.A4x) {
            if (interfaceC06230Sb.AMZ(menuItem)) {
                return true;
            }
        }
        return false;
    }

    @Override // X.AbstractActivityC04650Lh, X.ActivityC02270An, X.ActivityC02290Ap, X.ActivityC02330At, android.app.Activity
    public void onPause() {
        C73453bf c73453bf;
        C73053b1 c73053b1;
        super.onPause();
        this.A4O = true;
        A1x();
        if (this.A1c.A08()) {
            this.A1c.A02();
        }
        A56.put(this.A2D.A03(AbstractC005302j.class), C002701i.A0t(this.A2f.getStringText()));
        A55.put(this.A2D.A03(AbstractC005302j.class), AnonymousClass029.A0v(this.A2f.getMentions()));
        this.A1S.getCursor().getCount();
        this.A1S.A00();
        Handler handler = this.A0C;
        if (handler != null && handler.hasMessages(0)) {
            this.A0C.removeMessages(0);
            PowerManager A0D = this.A1l.A0D();
            if (A0D == null) {
                Log.w("conversation/pause pm=null");
            } else if (A0D.isScreenOn()) {
                this.A0C.sendEmptyMessage(0);
            }
        }
        if (this.A0X.getHeight() != 0) {
            if (A2R()) {
                this.A4H = true;
                C47782Co c47782Co = this.A1W;
                AbstractC005302j abstractC005302j = this.A2a;
                if (abstractC005302j != null) {
                    c47782Co.A00.remove(abstractC005302j);
                } else {
                    throw null;
                }
            } else {
                this.A01 = this.A0X.getFirstVisiblePosition();
                View childAt = this.A0X.getChildAt(0);
                this.A02 = 0;
                if (childAt != null) {
                    this.A02 = childAt.getTop();
                }
                C47782Co c47782Co2 = this.A1W;
                AbstractC005302j abstractC005302j2 = this.A2a;
                if (abstractC005302j2 != null) {
                    c47782Co2.A00.put(abstractC005302j2, new C58442r9(this.A0A, this.A01 - this.A0X.getHeaderViewsCount(), this.A02));
                    this.A0X.getHeaderViewsCount();
                    this.A4H = false;
                } else {
                    throw null;
                }
            }
        }
        if (Build.VERSION.SDK_INT >= 19 && (c73053b1 = this.A3h) != null && c73053b1.A0D) {
            c73053b1.A03();
        }
        if ((Build.VERSION.SDK_INT < 24 || !isInMultiWindowMode()) && (c73453bf = this.A3m) != null && c73453bf.A0S()) {
            c73453bf.A01();
        }
    }

    @Override // android.app.Activity
    public boolean onPrepareOptionsMenu(Menu menu) {
        for (InterfaceC06230Sb interfaceC06230Sb : this.A4x) {
            interfaceC06230Sb.ANF(menu);
        }
        return super.onPrepareOptionsMenu(menu);
    }

    /* JADX WARN: Removed duplicated region for block: B:54:0x0031  */
    /* JADX WARN: Removed duplicated region for block: B:69:0x0037 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    @Override // android.app.Activity
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public void onProvideAssistContent(android.app.assist.AssistContent r6) {
        /*
            r5 = this;
            super.onProvideAssistContent(r6)
            int r2 = android.os.Build.VERSION.SDK_INT
            r1 = 23
            if (r2 < r1) goto L36
            X.02j r4 = r5.A2a
            r0 = 0
            if (r2 < r1) goto Lf
            r0 = 1
        Lf:
            X.C000700j.A06(r0)
            java.lang.String r1 = "Invalid"
            if (r4 == 0) goto L54
            boolean r0 = X.C003101m.A0U(r4)
            if (r0 != 0) goto L51
            boolean r0 = X.C003101m.A0P(r4)
            if (r0 != 0) goto L51
            boolean r0 = X.C003101m.A0b(r4)
            if (r0 == 0) goto L54
            java.lang.String r2 = "Individual"
        L2a:
            boolean r0 = r2.equals(r1)
            r3 = 0
            if (r0 == 0) goto L37
            java.lang.String r0 = "conversation/provide-assist-content/invalid-conversation-id"
            com.whatsapp.util.Log.i(r0)
        L36:
            return
        L37:
            org.json.JSONObject r1 = new org.json.JSONObject     // Catch: org.json.JSONException -> L5f
            r1.<init>()     // Catch: org.json.JSONException -> L5f
            java.lang.String r0 = "conversation_type"
            org.json.JSONObject r2 = r1.put(r0, r2)     // Catch: org.json.JSONException -> L5f
            java.lang.String r1 = "conversation_id"
            if (r4 == 0) goto L5e
            java.lang.String r0 = r4.getRawString()     // Catch: org.json.JSONException -> L5f
            org.json.JSONObject r0 = r2.put(r1, r0)     // Catch: org.json.JSONException -> L5f
            if (r0 == 0) goto L36
            goto L56
        L51:
            java.lang.String r2 = "Group"
            goto L2a
        L54:
            r2 = r1
            goto L2a
        L56:
            java.lang.String r0 = r0.toString()
            r6.setStructuredData(r0)
            return
        L5e:
            throw r3     // Catch: org.json.JSONException -> L5f
        L5f:
            r1 = move-exception
            java.lang.String r0 = "assistant-utils/get-conversation-structured-data/exception"
            com.whatsapp.util.Log.i(r0, r1)
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.onProvideAssistContent(android.app.assist.AssistContent):void");
    }

    @Override // X.ActivityC02290Ap, android.app.Activity
    public void onRestart() {
        ((ActivityC02310Ar) this).A02.A05(this.A0X, "Conversation", 2, new Runnable() { // from class: X.1GM
            {
                Conversation.this = this;
            }

            @Override // java.lang.Runnable
            public final void run() {
                C003601s.A01("wa_startup_complete");
                C003601s.A00();
            }
        });
        super.onRestart();
    }

    @Override // X.ActivityC02270An, X.ActivityC02290Ap, X.ActivityC02330At, android.app.Activity
    public void onResume() {
        AnonymousClass092 anonymousClass092;
        this.A4O = false;
        C0HC c0hc = new C0HC("conversation/resume");
        if (AnonymousClass029.A05(this.A1x, ((AbstractActivityC04650Lh) this).A06, this.A2a) > 0) {
            EphemeralNUXDialog.A00(((AbstractActivityC04650Lh) this).A0K, A0N(), false);
        }
        if (C0L6.A01()) {
            this.A3p.A00.obtainMessage(1, new C49032Ic("show_voip_activity", null, null)).sendToTarget();
        }
        super.onResume();
        C06C c06c = this.A2D;
        if (c06c == null) {
            finish();
            c0hc.A01();
            Log.e("conversation/resume/no contact");
            return;
        }
        StringBuilder A0P = C000200d.A0P("conversation/resume ");
        A0P.append(c06c.A02());
        Log.i(A0P.toString());
        this.A1S.getCursor().getCount();
        this.A1S.A00();
        A1v();
        this.A2o.A00.clear();
        this.A2D = this.A1y.A02((AbstractC005302j) this.A2D.A03(AbstractC005302j.class));
        if (hasWindowFocus() && !((ActivityC02270An) this).A0E.A06()) {
            this.A1U.A03((AbstractC005302j) this.A2D.A03(AbstractC005302j.class), true, true);
        }
        A1n();
        if (!this.A2D.A0C()) {
            C22I c22i = this.A32;
            Jid A03 = this.A2D.A03(AbstractC005302j.class);
            if (A03 != null) {
                c22i.A07((AbstractC005302j) A03);
            } else {
                throw null;
            }
        }
        C59402sh c59402sh = this.A1f;
        if (c59402sh.A02 != null || c59402sh.A03 != null) {
            A1y();
        }
        if (A52 && !this.A4G && !this.A4M) {
            if (getIntent().getBooleanExtra("fromNotification", false)) {
                this.A2m.A05(this.A2a);
                this.A4L = true;
            } else {
                this.A2m.A0C(true);
            }
        }
        A52 = false;
        if (A53.remove(this.A2D.A03(AbstractC005302j.class))) {
            Log.i("conversation/dialog_ask_gps");
            C002701i.A19(this, 2);
        }
        try {
            this.A3X.A01();
        } catch (IllegalStateException e) {
            Log.e("conversation/ap/stateerror", e);
        }
        if (this.A4G) {
            this.A4G = false;
        } else if (this.A4M) {
            Handler handler = new Handler() { // from class: X.1KN
                /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
                {
                    super(Looper.getMainLooper());
                    Conversation.this = this;
                }

                @Override // android.os.Handler
                public void handleMessage(Message message) {
                    Conversation conversation = Conversation.this;
                    if (conversation.A0v.A00) {
                        return;
                    }
                    conversation.A2m.A04();
                    if (conversation.A4K) {
                        conversation.A2m.A0C(false);
                    }
                    conversation.A4M = false;
                    conversation.A4K = true;
                }
            };
            this.A0C = handler;
            handler.sendEmptyMessageDelayed(0, 3000L);
        }
        if (this.A48) {
            this.A0X.post(new Runnable() { // from class: X.1Gw
                {
                    Conversation.this = this;
                }

                @Override // java.lang.Runnable
                public final void run() {
                    Conversation.this.A1t();
                }
            });
            this.A46 = true;
            this.A1S.A01();
        } else if (this.A4J) {
            this.A0X.setSelection(0);
            this.A46 = true;
            this.A48 = true;
        } else if (this.A4H) {
            A1s();
        } else {
            A28(this.A01, this.A02);
        }
        if (this.A0y.A01(this.A0t) > 0) {
            Log.i("conversation/dialog_software_expire_warning");
            C002701i.A19(this, 115);
        }
        if (this.A39.A00) {
            Log.i("conversation/dialog_login_failed");
            this.A1p.A05(null, 20);
            AnonymousClass088.A22(this);
        }
        if (this.A1c.A08()) {
            this.A1c.A04();
        }
        if (this.A47 && (anonymousClass092 = this.A33) != null) {
            A2L(anonymousClass092);
        }
        if (C0L6.A02()) {
            Log.i("conversation/dialog_voip_call_active");
            this.A0D.setVisibility(0);
            this.A0Y.setText("");
        }
        A1w();
        for (Application.ActivityLifecycleCallbacks activityLifecycleCallbacks : this.A4w) {
            activityLifecycleCallbacks.onActivityResumed(this);
        }
        this.A2z.A03(getApplicationContext());
        c0hc.A01();
    }

    @Override // X.AbstractActivityC04650Lh, X.ActivityC02320As, X.ActivityC02330At, X.ActivityC02340Au, X.ActivityC02350Av, android.app.Activity
    public void onSaveInstanceState(Bundle bundle) {
        super.onSaveInstanceState(bundle);
        AnonymousClass092 anonymousClass092 = this.A34;
        if (anonymousClass092 != null) {
            C0LD.A07(bundle, anonymousClass092.A0n, "quotedMessage_");
        }
        this.A3s = Boolean.valueOf(C2MB.A00(this.A0E));
        bundle.putBoolean("added_by_qr_code", this.A43);
        bundle.putBoolean("has_number_from_url", this.A4A);
        bundle.putBoolean("has_text_from_url", this.A4B);
        bundle.putBoolean("keyboard_visible", this.A3s.booleanValue());
        bundle.putLong("start_ref", this.A0A);
        bundle.putInt("on_resume_y_offset", this.A02);
        bundle.putInt("on_resume_scroll_pos", this.A01);
        bundle.putBoolean("on_resume_scroll_to_bottom", this.A4H);
        bundle.putLong("ephemeral_session_start", this.A22.A00);
    }

    @Override // android.app.Activity, android.view.Window.Callback
    public boolean onSearchRequested() {
        if (this.A0e != null) {
            return false;
        }
        A1V();
        this.A24 = this.A23.A09(this.A2a);
        this.A3e.AS5(new Runnable() { // from class: X.1Fz
            {
                Conversation.this = this;
            }

            @Override // java.lang.Runnable
            public final void run() {
                Conversation conversation = Conversation.this;
                conversation.A23.A0L(conversation.A24);
            }
        });
        if (this.A0d == null) {
            this.A0d = new C35001iR(this);
        }
        C73453bf c73453bf = this.A3m;
        if (c73453bf == null || (!c73453bf.A0S() && !c73453bf.A0R())) {
            this.A0E.setVisibility(8);
            A2U();
        }
        if (!C2MB.A00(this.A0E)) {
            InputMethodManager A0I = this.A1l.A0I();
            if (A0I != null) {
                A0I.toggleSoftInput(0, 0);
            } else {
                throw null;
            }
        }
        this.A0e = A0e(this.A0d);
        return false;
    }

    /* JADX WARN: Code restructure failed: missing block: B:305:0x02b2, code lost:
        if (r1.booleanValue() != false) goto L125;
     */
    /* JADX WARN: Code restructure failed: missing block: B:312:0x02c2, code lost:
        if (r2 == 0) goto L132;
     */
    /* JADX WARN: Code restructure failed: missing block: B:366:0x040b, code lost:
        if (r11 == false) goto L35;
     */
    /* JADX WARN: Code restructure failed: missing block: B:370:0x0418, code lost:
        if (r11 != false) goto L179;
     */
    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:320:0x0300  */
    /* JADX WARN: Removed duplicated region for block: B:383:? A[RETURN, SYNTHETIC] */
    /* JADX WARN: Type inference failed for: r8v7, types: [X.1if, X.0HS] */
    @Override // X.ActivityC02270An, X.ActivityC02290Ap, X.ActivityC02320As, X.ActivityC02330At, android.app.Activity
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    public void onStart() {
        /*
            Method dump skipped, instructions count: 1081
            To view this dump change 'Code comments level' option to 'DEBUG'
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.onStart():void");
    }

    @Override // X.ActivityC02320As, X.ActivityC02330At, android.app.Activity
    public void onStop() {
        C73053b1 c73053b1;
        super.onStop();
        this.A1E.A00(this);
        if (A51 == hashCode()) {
            this.A14.A01(false);
        }
        this.A3s = Boolean.valueOf(C2MB.A00(this.A0E));
        C73453bf c73453bf = this.A3m;
        if (c73453bf != null && c73453bf.A0S()) {
            c73453bf.A01();
        }
        A1x();
        if (this.A0i != null) {
            Log.i("conversation/cancel-load-messages");
            A05(true);
        }
        StringBuilder A0P = C000200d.A0P("conversation/stop/release ");
        A0P.append(SQLiteDatabase.releaseMemory());
        A0P.append(" jid=");
        A0P.append(this.A2a);
        Log.i(A0P.toString());
        if (this.A1S.getCursor() != null) {
            this.A1S.getCursor().deactivate();
        }
        if (Build.VERSION.SDK_INT >= 19 && (c73053b1 = this.A3h) != null && c73053b1.A0D) {
            c73053b1.A03();
        }
        this.A2v.A04(this.A4o);
        this.A2f.A01();
    }

    @Override // android.app.Activity, android.view.Window.Callback
    public void onWindowFocusChanged(boolean z) {
        StringBuilder A0P = C000200d.A0P("conversation/window-focus-changed ");
        A0P.append(this.A2D.A02());
        A0P.append(" ");
        A0P.append(z);
        Log.i(A0P.toString());
        super.onWindowFocusChanged(z);
        if (!z || ((ActivityC02270An) this).A0E.A06()) {
            return;
        }
        this.A1U.A03((AbstractC005302j) this.A2D.A03(AbstractC005302j.class), true, true);
        if (this.A4L) {
            this.A2m.A04();
            this.A4L = false;
        }
    }

    /* loaded from: classes.dex */
    public class CallConfirmationFragment extends Hilt_Conversation_CallConfirmationFragment {
        public C05W A00;
        public C000500h A01;

        @Override // androidx.fragment.app.DialogFragment
        public Dialog A0z(Bundle bundle) {
            final ActivityC02330At A0A = A0A();
            final boolean z = A02().getBoolean("is_video_call");
            AbstractC005302j A02 = AbstractC005302j.A02(A02().getString("jid"));
            if (A02 != null) {
                final C06C A0A2 = this.A00.A0A(A02);
                int i = R.string.audio_call_confirmation_text;
                if (z) {
                    i = R.string.video_call_confirmation_text;
                }
                C019208x c019208x = new C019208x(A0A);
                c019208x.A02(i);
                c019208x.A06(R.string.call, new DialogInterface.OnClickListener() { // from class: X.1G2
                    {
                        Conversation.CallConfirmationFragment.this = this;
                    }

                    @Override // android.content.DialogInterface.OnClickListener
                    public final void onClick(DialogInterface dialogInterface, int i2) {
                        Conversation.CallConfirmationFragment callConfirmationFragment = Conversation.CallConfirmationFragment.this;
                        Activity activity = A0A;
                        C06C c06c = A0A2;
                        boolean z2 = z;
                        C000200d.A0g(callConfirmationFragment.A01, "call_confirmation_dialog_count", callConfirmationFragment.A01.A00.getInt("call_confirmation_dialog_count", 0) + 1);
                        if (activity instanceof Conversation) {
                            ((Conversation) activity).A2H(c06c, z2);
                        }
                    }
                });
                c019208x.A04(R.string.cancel, null);
                DialogInterfaceC019408z A00 = c019208x.A00();
                A00.setCanceledOnTouchOutside(true);
                return A00;
            }
            throw null;
        }
    }
}
